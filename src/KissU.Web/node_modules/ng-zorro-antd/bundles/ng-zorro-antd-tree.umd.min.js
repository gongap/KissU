!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/common"),require("ng-zorro-antd/icon"),require("@angular/forms"),require("rxjs"),require("rxjs/operators"),require("@angular/core"),require("ng-zorro-antd/core")):"function"==typeof define&&define.amd?define("ng-zorro-antd/tree",["exports","@angular/common","ng-zorro-antd/icon","@angular/forms","rxjs","rxjs/operators","@angular/core","ng-zorro-antd/core"],n):n((e["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].tree={}),e.ng.common,e["ng-zorro-antd"].icon,e.ng.forms,e.rxjs,e.rxjs.operators,e.ng.core,e["ng-zorro-antd"].core)}(this,function(e,n,t,r,a,o,i,s){"use strict";var c=function(e,n){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)};function p(e,n){function t(){this.constructor=e}c(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}function l(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;0<=s;s--)(o=e[s])&&(a=(i<3?o(a):3<i?o(n,t,a):o(n,t))||a);return 3<i&&a&&Object.defineProperty(n,t,a),a}function d(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)}var h=(Object.defineProperty(z.prototype,"nzDraggable",{get:function(){return this._nzDraggable},set:function(e){this._nzDraggable=e,this.handDragEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(z.prototype,"nzDefaultExpandAll",{get:function(){return this._nzExpandAll},set:function(e){(this._nzExpandAll=e)&&this.nzTreeNode&&!this.nzTreeNode.isLeaf&&(this.nzTreeNode.isExpanded=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(z.prototype,"nzExpandAll",{get:function(){return this._nzExpandAll},set:function(e){(this._nzExpandAll=e)&&this.nzTreeNode&&!this.nzTreeNode.isLeaf&&(this.nzTreeNode.isExpanded=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(z.prototype,"nzSearchValue",{get:function(){return this._searchValue},set:function(e){if(this.highlightKeys=[],e&&this.nzTreeNode.title.includes(e)){var n=this.nzTreeNode.title.indexOf(e);this.highlightKeys=[this.nzTreeNode.title.slice(0,n),this.nzTreeNode.title.slice(n+e.length,this.nzTreeNode.title.length)]}this._searchValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(z.prototype,"nzIcon",{get:function(){return this.nzTreeNode.icon},enumerable:!0,configurable:!0}),Object.defineProperty(z.prototype,"canDraggable",{get:function(){return!(!this.nzDraggable||this.nzTreeNode.isDisabled)||null},enumerable:!0,configurable:!0}),Object.defineProperty(z.prototype,"isShowLineIcon",{get:function(){return!this.nzTreeNode.isLeaf&&this.nzShowLine},enumerable:!0,configurable:!0}),Object.defineProperty(z.prototype,"isShowSwitchIcon",{get:function(){return!this.nzTreeNode.isLeaf&&!this.nzShowLine},enumerable:!0,configurable:!0}),Object.defineProperty(z.prototype,"isSwitcherOpen",{get:function(){return this.nzTreeNode.isExpanded&&!this.nzTreeNode.isLeaf},enumerable:!0,configurable:!0}),Object.defineProperty(z.prototype,"isSwitcherClose",{get:function(){return!this.nzTreeNode.isExpanded&&!this.nzTreeNode.isLeaf},enumerable:!0,configurable:!0}),Object.defineProperty(z.prototype,"displayStyle",{get:function(){return this.nzSearchValue&&this.nzHideUnMatched&&!this.nzTreeNode.isMatched&&!this.nzTreeNode.isExpanded?"none":""},enumerable:!0,configurable:!0}),z.prototype.setClassMap=function(){var e,n,t,r,o,i;this.prefixCls=this.nzSelectMode?"ant-select-tree":"ant-tree",this.nzNodeClass=((e={})[this.prefixCls+"-treenode-disabled"]=this.nzTreeNode.isDisabled,e[this.prefixCls+"-treenode-switcher-open"]=this.isSwitcherOpen,e[this.prefixCls+"-treenode-switcher-close"]=this.isSwitcherClose,e[this.prefixCls+"-treenode-checkbox-checked"]=this.nzTreeNode.isChecked,e[this.prefixCls+"-treenode-checkbox-indeterminate"]=this.nzTreeNode.isHalfChecked,e[this.prefixCls+"-treenode-selected"]=this.nzTreeNode.isSelected,e[this.prefixCls+"-treenode-loading"]=this.nzTreeNode.isLoading,e),this.nzNodeSwitcherClass=((n={})[this.prefixCls+"-switcher"]=!0,n[this.prefixCls+"-switcher-noop"]=this.nzTreeNode.isLeaf,n[this.prefixCls+"-switcher_open"]=this.isSwitcherOpen,n[this.prefixCls+"-switcher_close"]=this.isSwitcherClose,n),this.nzNodeCheckboxClass=((t={})[this.prefixCls+"-checkbox"]=!0,t[this.prefixCls+"-checkbox-checked"]=this.nzTreeNode.isChecked,t[this.prefixCls+"-checkbox-indeterminate"]=this.nzTreeNode.isHalfChecked,t[this.prefixCls+"-checkbox-disabled"]=this.nzTreeNode.isDisabled||this.nzTreeNode.isDisableCheckbox,t),this.nzNodeContentClass=((r={})[this.prefixCls+"-node-content-wrapper"]=!0,r[this.prefixCls+"-node-content-wrapper-open"]=this.isSwitcherOpen,r[this.prefixCls+"-node-content-wrapper-close"]=this.isSwitcherClose,r[this.prefixCls+"-node-selected"]=this.nzTreeNode.isSelected,r),this.nzNodeContentIconClass=((o={})[this.prefixCls+"-iconEle"]=!0,o[this.prefixCls+"-icon__customize"]=!0,o),this.nzNodeContentLoadingClass=((i={})[this.prefixCls+"-iconEle"]=!0,i)},z.prototype.onMousedown=function(e){this.nzSelectMode&&e.preventDefault()},z.prototype.nzClick=function(e){e.preventDefault(),e.stopPropagation(),this.nzTreeNode.isSelectable&&!this.nzTreeNode.isDisabled&&(this.nzTreeNode.isSelected=!this.nzTreeNode.isSelected);var n=this.nzTreeService.formatEvent("click",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(n)},z.prototype.nzDblClick=function(e){e.preventDefault(),e.stopPropagation();var n=this.nzTreeService.formatEvent("dblclick",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(n)},z.prototype.nzContextMenu=function(e){e.preventDefault(),e.stopPropagation();var n=this.nzTreeService.formatEvent("contextmenu",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(n)},z.prototype._clickExpand=function(e){if(e.preventDefault(),e.stopPropagation(),!this.nzTreeNode.isLoading&&!this.nzTreeNode.isLeaf){this.nzAsyncData&&0===this.nzTreeNode.children.length&&!this.nzTreeNode.isExpanded&&(this.nzTreeNode.isLoading=!0),this.nzTreeNode.isExpanded=!this.nzTreeNode.isExpanded;var n=this.nzTreeService.formatEvent("expand",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(n)}},z.prototype._clickCheckBox=function(e){if(e.preventDefault(),e.stopPropagation(),!this.nzTreeNode.isDisabled&&!this.nzTreeNode.isDisableCheckbox){this.nzTreeNode.isChecked=!this.nzTreeNode.isChecked,this.nzTreeNode.isHalfChecked=!1,this.nzTreeService.isCheckStrictly||this.nzTreeService.conduct(this.nzTreeNode);var n=this.nzTreeService.formatEvent("check",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(n)}},z.prototype.clearDragClass=function(){var n=this;["drag-over-gap-top","drag-over-gap-bottom","drag-over"].forEach(function(e){n.renderer.removeClass(n.dragElement.nativeElement,e)})},z.prototype.handleDragStart=function(e){e.stopPropagation();try{e.dataTransfer.setData("text/plain",this.nzTreeNode.key)}catch(t){}this.nzTreeService.setSelectedNode(this.nzTreeNode),this.nzTreeNode.isExpanded=!1;var n=this.nzTreeService.formatEvent("dragstart",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(n)},z.prototype.handleDragEnter=function(t){var r=this;t.preventDefault(),t.stopPropagation(),this.dragPos=2,this.ngZone.run(function(){var e=r.nzTreeService.getSelectedNode();!e||e.key===r.nzTreeNode.key||r.nzTreeNode.isExpanded||r.nzTreeNode.isLeaf||(r.nzTreeNode.isExpanded=!0);var n=r.nzTreeService.formatEvent("dragenter",r.nzTreeNode,t);r.nzTreeService.triggerEventChange$.next(n)})},z.prototype.handleDragOver=function(e){e.preventDefault(),e.stopPropagation();var n=this.nzTreeService.calcDropPosition(e);this.dragPos!==n&&(this.clearDragClass(),this.dragPos=n,0===this.dragPos&&this.nzTreeNode.isLeaf||this.renderer.addClass(this.dragElement.nativeElement,this.dragPosClass[this.dragPos]));var t=this.nzTreeService.formatEvent("dragover",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(t)},z.prototype.handleDragLeave=function(e){var n=this;e.stopPropagation(),this.ngZone.run(function(){n.clearDragClass()});var t=this.nzTreeService.formatEvent("dragleave",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(t)},z.prototype.handleDragDrop=function(r){var o=this;r.preventDefault(),r.stopPropagation(),this.ngZone.run(function(){o.clearDragClass();var e=o.nzTreeService.getSelectedNode();if(!(!e||e&&e.key===o.nzTreeNode.key||0===o.dragPos&&o.nzTreeNode.isLeaf)){var n=o.nzTreeService.formatEvent("drop",o.nzTreeNode,r),t=o.nzTreeService.formatEvent("dragend",o.nzTreeNode,r);o.nzBeforeDrop?o.nzBeforeDrop({dragNode:o.nzTreeService.getSelectedNode(),node:o.nzTreeNode,pos:o.dragPos}).subscribe(function(e){e&&o.nzTreeService.dropAndApply(o.nzTreeNode,o.dragPos),o.nzTreeService.triggerEventChange$.next(n),o.nzTreeService.triggerEventChange$.next(t)}):o.nzTreeNode&&(o.nzTreeService.dropAndApply(o.nzTreeNode,o.dragPos),o.nzTreeService.triggerEventChange$.next(n))}})},z.prototype.handleDragEnd=function(n){var t=this;n.stopPropagation(),this.ngZone.run(function(){if(!t.nzBeforeDrop){var e=t.nzTreeService.formatEvent("dragend",t.nzTreeNode,n);t.nzTreeService.triggerEventChange$.next(e)}})},z.prototype.handDragEvent=function(){var n=this;this.ngZone.runOutsideAngular(function(){n.nzDraggable?(n.destroy$=new a.Subject,a.fromEvent(n.elRef.nativeElement,"dragstart").pipe(o.takeUntil(n.destroy$)).subscribe(function(e){return n.handleDragStart(e)}),a.fromEvent(n.elRef.nativeElement,"dragenter").pipe(o.takeUntil(n.destroy$)).subscribe(function(e){return n.handleDragEnter(e)}),a.fromEvent(n.elRef.nativeElement,"dragover").pipe(o.takeUntil(n.destroy$)).subscribe(function(e){return n.handleDragOver(e)}),a.fromEvent(n.elRef.nativeElement,"dragleave").pipe(o.takeUntil(n.destroy$)).subscribe(function(e){return n.handleDragLeave(e)}),a.fromEvent(n.elRef.nativeElement,"drop").pipe(o.takeUntil(n.destroy$)).subscribe(function(e){return n.handleDragDrop(e)}),a.fromEvent(n.elRef.nativeElement,"dragend").pipe(o.takeUntil(n.destroy$)).subscribe(function(e){return n.handleDragEnd(e)})):(n.destroy$.next(),n.destroy$.complete())})},z.prototype.isTemplateRef=function(e){return e instanceof i.TemplateRef},z.prototype.markForCheck=function(){this.cdr.markForCheck()},z.prototype.ngOnInit=function(){var n=this;this.nzTreeNode.isSelected&&this.nzTreeService.setNodeActive(this.nzTreeNode),this.nzTreeNode.isExpanded&&this.nzTreeService.setExpandedNodeList(this.nzTreeNode),this.nzTreeNode.isChecked&&this.nzTreeService.setCheckedNodeList(this.nzTreeNode),(this.nzTreeNode.component=this).nzTreeService.eventTriggerChanged().pipe(o.filter(function(e){return e.node.key===n.nzTreeNode.key}),o.takeUntil(this.destroy$)).subscribe(function(){n.setClassMap(),n.markForCheck()}),this.setClassMap()},z.prototype.ngOnChanges=function(){this.setClassMap()},z.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},z.decorators=[{type:i.Component,args:[{selector:"nz-tree-node",exportAs:"nzTreeNode",template:'<li\n  #dragElement\n  role="treeitem"\n  [style.display]="displayStyle"\n  [ngClass]="nzNodeClass">\n  <ng-container *ngIf="nzShowExpand">\n    <span\n      [ngClass]="nzNodeSwitcherClass"\n      (click)="_clickExpand($event)">\n      <ng-container *ngIf="isShowSwitchIcon">\n        <ng-container *ngIf="!nzTreeNode.isLoading">\n          <ng-template\n            *ngIf="isTemplateRef(nzExpandedIcon)"\n            [ngTemplateOutlet]="nzExpandedIcon"\n            [ngTemplateOutletContext]="{ $implicit: nzTreeNode }">\n          </ng-template>\n          <i\n            *ngIf="!isTemplateRef(nzExpandedIcon)" \n            nz-icon \n            type="caret-down"           \n            [class.ant-select-switcher-icon]="nzSelectMode"\n            [class.ant-tree-switcher-icon]="!nzSelectMode">\n          </i>\n        </ng-container>\n        <i *ngIf="nzTreeNode.isLoading" nz-icon type="loading" [spin]="true" class="ant-tree-switcher-loading-icon"></i>\n      </ng-container>\n      <ng-container *ngIf="nzShowLine">\n        <ng-template\n          *ngIf="isTemplateRef(nzExpandedIcon)"\n          [ngTemplateOutlet]="nzExpandedIcon"\n          [ngTemplateOutletContext]="{ $implicit: nzTreeNode }">\n        </ng-template>\n        <ng-container *ngIf="!isTemplateRef(nzExpandedIcon)">\n          <i *ngIf="isShowLineIcon" nz-icon [type]="isSwitcherOpen ? \'minus-square\' : \'plus-square\'" class="ant-tree-switcher-line-icon"></i>\n          <i *ngIf="!isShowLineIcon" nz-icon type="file" class="ant-tree-switcher-line-icon"></i>\n        </ng-container>\n      </ng-container>\n    </span>\n  </ng-container>\n  <ng-container *ngIf="nzCheckable">\n    <span\n      [ngClass]="nzNodeCheckboxClass"\n      (click)="_clickCheckBox($event)">\n      <span [class.ant-tree-checkbox-inner]="!nzSelectMode"\n            [class.ant-select-tree-checkbox-inner]="nzSelectMode"></span>\n    </span>\n  </ng-container>\n  <ng-container *ngIf="!nzTreeTemplate">\n    <span\n      title="{{nzTreeNode.title}}"\n      [attr.draggable]="canDraggable"\n      [attr.aria-grabbed]="canDraggable"\n      [ngClass]="nzNodeContentClass"\n      [class.draggable]="canDraggable">\n      <span\n        *ngIf="nzTreeNode.icon && nzShowIcon"\n        [class.ant-tree-icon__open]="isSwitcherOpen"\n        [class.ant-tree-icon__close]="isSwitcherClose"\n        [class.ant-tree-icon_loading]="nzTreeNode.isLoading"\n        [ngClass]="nzNodeContentLoadingClass">\n        <span\n          [ngClass]="nzNodeContentIconClass">\n          <i nz-icon *ngIf="nzIcon" [type]="nzIcon"></i>\n        </span>\n      </span>\n      <span class="ant-tree-title">\n        <ng-container *ngIf="nzTreeNode.isMatched">\n          <span>\n            {{highlightKeys[0]}}<span class="font-highlight">{{nzSearchValue}}</span>{{highlightKeys[1]}}\n          </span>\n        </ng-container>\n        <ng-container *ngIf="!nzTreeNode.isMatched">\n          {{nzTreeNode.title}}\n        </ng-container>\n      </span>\n    </span>\n  </ng-container>\n  <ng-template\n    [ngTemplateOutlet]="nzTreeTemplate"\n    [ngTemplateOutletContext]="{ $implicit: nzTreeNode }">\n  </ng-template>\n\n  <ul\n    role="group"\n    class="ant-tree-child-tree"\n    [class.ant-tree-child-tree-open]="!nzSelectMode || nzTreeNode.isExpanded"\n    data-expanded="true"\n    [@.disabled]="noAnimation?.nzNoAnimation"\n    [@collapseMotion]="nzTreeNode.isExpanded ? \'expanded\' : \'collapsed\'">\n    <nz-tree-node\n      *ngFor="let node of nzTreeNode.getChildren()"\n      [nzTreeNode]="node"\n      [nzShowExpand]="nzShowExpand"\n      [nzNoAnimation]="noAnimation?.nzNoAnimation"\n      [nzSelectMode]="nzSelectMode"\n      [nzShowLine]="nzShowLine"\n      [nzExpandedIcon]="nzExpandedIcon"\n      [nzDraggable]="nzDraggable"\n      [nzCheckable]="nzCheckable"\n      [nzAsyncData]="nzAsyncData"\n      [nzExpandAll]="nzExpandAll"\n      [nzDefaultExpandAll]="nzDefaultExpandAll"\n      [nzShowIcon]="nzShowIcon"\n      [nzSearchValue]="nzSearchValue"\n      [nzHideUnMatched]="nzHideUnMatched"\n      [nzBeforeDrop]="nzBeforeDrop"\n      [nzTreeTemplate]="nzTreeTemplate">\n    </nz-tree-node>\n  </ul>\n</li>',changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,animations:[s.collapseMotion]}]}],z.ctorParameters=function(){return[{type:s.NzTreeBaseService},{type:i.NgZone},{type:i.Renderer2},{type:i.ElementRef},{type:i.ChangeDetectorRef},{type:s.NzNoAnimationDirective,decorators:[{type:i.Host},{type:i.Optional}]}]},z.propDecorators={dragElement:[{type:i.ViewChild,args:["dragElement"]}],nzTreeNode:[{type:i.Input}],nzShowLine:[{type:i.Input}],nzShowExpand:[{type:i.Input}],nzCheckable:[{type:i.Input}],nzAsyncData:[{type:i.Input}],nzHideUnMatched:[{type:i.Input}],nzNoAnimation:[{type:i.Input}],nzSelectMode:[{type:i.Input}],nzShowIcon:[{type:i.Input}],nzExpandedIcon:[{type:i.Input}],nzTreeTemplate:[{type:i.Input}],nzBeforeDrop:[{type:i.Input}],nzDraggable:[{type:i.Input}],nzDefaultExpandAll:[{type:i.Input}],nzExpandAll:[{type:i.Input}],nzSearchValue:[{type:i.Input}],onMousedown:[{type:i.HostListener,args:["mousedown",["$event"]]}],nzClick:[{type:i.HostListener,args:["click",["$event"]]}],nzDblClick:[{type:i.HostListener,args:["dblclick",["$event"]]}],nzContextMenu:[{type:i.HostListener,args:["contextmenu",["$event"]]}]},l([s.InputBoolean(),d("design:type",Boolean)],z.prototype,"nzShowLine",void 0),l([s.InputBoolean(),d("design:type",Boolean)],z.prototype,"nzShowExpand",void 0),l([s.InputBoolean(),d("design:type",Boolean)],z.prototype,"nzCheckable",void 0),l([s.InputBoolean(),d("design:type",Boolean)],z.prototype,"nzAsyncData",void 0),l([s.InputBoolean(),d("design:type",Object)],z.prototype,"nzHideUnMatched",void 0),l([s.InputBoolean(),d("design:type",Object)],z.prototype,"nzNoAnimation",void 0),l([s.InputBoolean(),d("design:type",Object)],z.prototype,"nzSelectMode",void 0),l([s.InputBoolean(),d("design:type",Object)],z.prototype,"nzShowIcon",void 0),z);function z(e,n,t,r,o,i){this.nzTreeService=e,this.ngZone=n,this.renderer=t,this.elRef=r,this.cdr=o,this.noAnimation=i,this.nzHideUnMatched=!1,this.nzNoAnimation=!1,this.nzSelectMode=!1,this.nzShowIcon=!1,this.prefixCls="ant-tree",this.highlightKeys=[],this.nzNodeClass={},this.nzNodeSwitcherClass={},this.nzNodeContentClass={},this.nzNodeCheckboxClass={},this.nzNodeContentIconClass={},this.nzNodeContentLoadingClass={},this.destroy$=new a.Subject,this.dragPos=2,this.dragPosClass={0:"drag-over",1:"drag-over-gap-bottom","-1":"drag-over-gap-top"},this._searchValue="",this._nzDraggable=!1,this._nzExpandAll=!1}var u,g=(p(y,u=s.NzTreeBaseService),y.decorators=[{type:i.Injectable}],y);function y(){return null!==u&&u.apply(this,arguments)||this}function f(e,n){return e||n}var v,C=(p(S,v=s.NzTreeBase),Object.defineProperty(S.prototype,"nzMultiple",{get:function(){return this._nzMultiple},set:function(e){this._nzMultiple=s.toBoolean(e),this.nzTreeService.isMultiple=s.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"nzData",{set:function(e){this.initNzData(e)},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"nzDefaultExpandedKeys",{set:function(e){this.nzDefaultSubject.next({type:"nzExpandedKeys",keys:e})},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"nzDefaultSelectedKeys",{set:function(e){this.nzDefaultSubject.next({type:"nzSelectedKeys",keys:e})},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"nzDefaultCheckedKeys",{set:function(e){this.nzDefaultSubject.next({type:"nzCheckedKeys",keys:e})},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"nzExpandedKeys",{set:function(e){this.nzDefaultSubject.next({type:"nzExpandedKeys",keys:e})},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"nzSelectedKeys",{set:function(e){this.nzDefaultSubject.next({type:"nzSelectedKeys",keys:e})},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"nzCheckedKeys",{set:function(e){this.nzDefaultSubject.next({type:"nzCheckedKeys",keys:e})},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"nzSearchValue",{get:function(){return this._searchValue},set:function(e){this._searchValue=e,this.nzTreeService.searchExpand(e),s.isNotNil(e)&&(this.nzSearchValueChange.emit(this.nzTreeService.formatEvent("search",null,null)),this.nzOnSearchNode.emit(this.nzTreeService.formatEvent("search",null,null)))},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"nzNodes",{get:function(){return this.nzTreeService.rootNodes},enumerable:!0,configurable:!0}),S.prototype.setClassMap=function(){var e;this.classMap=((e={})[this.prefixCls]=!0,e[this.prefixCls+"-show-line"]=this.nzShowLine,e[this.prefixCls+"-icon-hide"]=!this.nzShowIcon,e[this.prefixCls+"-block-node"]=this.nzBlockNode,e["draggable-tree"]=this.nzDraggable,e["ant-select-tree"]=this.nzSelectMode,e)},S.prototype.writeValue=function(e){this.initNzData(e)},S.prototype.registerOnChange=function(e){this.onChange=e},S.prototype.registerOnTouched=function(e){this.onTouched=e},S.prototype.initNzData=function(e){Array.isArray(e)&&(this.nzTreeService.isCheckStrictly=this.nzCheckStrictly,this.nzTreeService.isMultiple=this.nzMultiple,this.nzTreeService.initTree(this.coerceTreeNodes(e)))},S.prototype.ngOnInit=function(){var n=this;this.setClassMap(),this.nzDefaultSubject.pipe(o.takeUntil(this.destroy$)).subscribe(function(e){if(e&&e.keys){switch(e.type){case"nzExpandedKeys":n.nzTreeService.calcExpandedKeys(e.keys,n.nzNodes),n.nzExpandedKeysChange.emit(e.keys);break;case"nzSelectedKeys":n.nzTreeService.calcSelectedKeys(e.keys,n.nzNodes,n.nzMultiple),n.nzSelectedKeysChange.emit(e.keys);break;case"nzCheckedKeys":n.nzTreeService.calcCheckedKeys(e.keys,n.nzNodes,n.nzCheckStrictly),n.nzCheckedKeysChange.emit(e.keys)}n.cdr.markForCheck()}}),this.nzTreeService.eventTriggerChanged().pipe(o.takeUntil(this.destroy$)).subscribe(function(e){switch(e.eventName){case"expand":n.nzExpandChange.emit(e);break;case"click":n.nzClick.emit(e);break;case"check":n.nzCheckBoxChange.emit(e);break;case"dblclick":n.nzDblClick.emit(e);break;case"contextmenu":n.nzContextMenu.emit(e);break;case"dragstart":n.nzOnDragStart.emit(e);break;case"dragenter":n.nzOnDragEnter.emit(e);break;case"dragover":n.nzOnDragOver.emit(e);break;case"dragleave":n.nzOnDragLeave.emit(e);break;case"drop":n.nzOnDrop.emit(e);break;case"dragend":n.nzOnDragEnd.emit(e)}})},S.prototype.ngOnChanges=function(e){e.nzCheckStrictly&&(this.nzTreeService.isCheckStrictly=s.toBoolean(e.nzCheckStrictly.currentValue)),e.nzMultiple&&(this.nzTreeService.isMultiple=s.toBoolean(e.nzMultiple.currentValue))},S.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},S.decorators=[{type:i.Component,args:[{selector:"nz-tree",exportAs:"nzTree",template:'<ul\n  role="tree"\n  unselectable="on"\n  [ngClass]="classMap">\n  <ng-container *ngFor="let node of nzNodes">\n    <nz-tree-node\n      [nzTreeNode]="node"\n      [nzSelectMode]="nzSelectMode"\n      [nzShowLine]="nzShowLine"\n      [nzExpandedIcon]="nzExpandedIcon"\n      [nzDraggable]="nzDraggable"\n      [nzCheckable]="nzCheckable"\n      [nzShowExpand]="nzShowExpand"\n      [nzAsyncData]="nzAsyncData"\n      [nzSearchValue]="nzSearchValue"\n      [nzHideUnMatched]="nzHideUnMatched"\n      [nzBeforeDrop]="nzBeforeDrop"\n      [nzExpandAll]="nzExpandAll"\n      [nzDefaultExpandAll]="nzDefaultExpandAll"\n      [nzShowIcon]="nzShowIcon"\n      [nzTreeTemplate]="nzTreeTemplate"\n      [nzNoAnimation]="noAnimation?.nzNoAnimation">\n    </nz-tree-node>\n  </ng-container>\n</ul>',changeDetection:i.ChangeDetectionStrategy.OnPush,providers:[g,{provide:s.NzTreeBaseService,useFactory:f,deps:[[new i.SkipSelf,new i.Optional,s.NzTreeHigherOrderServiceToken],g]},{provide:r.NG_VALUE_ACCESSOR,useExisting:i.forwardRef(function(){return S}),multi:!0}]}]}],S.ctorParameters=function(){return[{type:s.NzTreeBaseService},{type:i.ChangeDetectorRef},{type:s.NzNoAnimationDirective,decorators:[{type:i.Host},{type:i.Optional}]}]},S.propDecorators={nzShowIcon:[{type:i.Input}],nzShowExpand:[{type:i.Input}],nzShowLine:[{type:i.Input}],nzExpandedIcon:[{type:i.Input}],nzCheckable:[{type:i.Input}],nzAsyncData:[{type:i.Input}],nzDraggable:[{type:i.Input}],nzExpandAll:[{type:i.Input}],nzHideUnMatched:[{type:i.Input}],nzSelectMode:[{type:i.Input}],nzCheckStrictly:[{type:i.Input}],nzBlockNode:[{type:i.Input}],nzTreeTemplate:[{type:i.Input},{type:i.ContentChild,args:["nzTreeTemplate"]}],nzDefaultExpandAll:[{type:i.Input}],nzBeforeDrop:[{type:i.Input}],nzMultiple:[{type:i.Input}],nzData:[{type:i.Input}],nzDefaultExpandedKeys:[{type:i.Input}],nzDefaultSelectedKeys:[{type:i.Input}],nzDefaultCheckedKeys:[{type:i.Input}],nzExpandedKeys:[{type:i.Input}],nzSelectedKeys:[{type:i.Input}],nzCheckedKeys:[{type:i.Input}],nzSearchValue:[{type:i.Input}],nzExpandedKeysChange:[{type:i.Output}],nzSelectedKeysChange:[{type:i.Output}],nzCheckedKeysChange:[{type:i.Output}],nzSearchValueChange:[{type:i.Output}],nzOnSearchNode:[{type:i.Output}],nzClick:[{type:i.Output}],nzDblClick:[{type:i.Output}],nzContextMenu:[{type:i.Output}],nzCheckBoxChange:[{type:i.Output}],nzExpandChange:[{type:i.Output}],nzOnDragStart:[{type:i.Output}],nzOnDragEnter:[{type:i.Output}],nzOnDragOver:[{type:i.Output}],nzOnDragLeave:[{type:i.Output}],nzOnDrop:[{type:i.Output}],nzOnDragEnd:[{type:i.Output}]},l([s.InputBoolean(),d("design:type",Object)],S.prototype,"nzShowIcon",void 0),l([s.InputBoolean(),d("design:type",Object)],S.prototype,"nzShowExpand",void 0),l([s.InputBoolean(),d("design:type",Object)],S.prototype,"nzShowLine",void 0),l([s.InputBoolean(),d("design:type",Object)],S.prototype,"nzCheckable",void 0),l([s.InputBoolean(),d("design:type",Object)],S.prototype,"nzAsyncData",void 0),l([s.InputBoolean(),d("design:type",Object)],S.prototype,"nzDraggable",void 0),l([s.InputBoolean(),d("design:type",Object)],S.prototype,"nzExpandAll",void 0),l([s.InputBoolean(),d("design:type",Object)],S.prototype,"nzHideUnMatched",void 0),l([s.InputBoolean(),d("design:type",Object)],S.prototype,"nzSelectMode",void 0),l([s.InputBoolean(),d("design:type",Object)],S.prototype,"nzCheckStrictly",void 0),l([s.InputBoolean(),d("design:type",Object)],S.prototype,"nzBlockNode",void 0),l([s.InputBoolean(),d("design:type",Object)],S.prototype,"nzDefaultExpandAll",void 0),l([s.InputBoolean(),d("design:type",Boolean),d("design:paramtypes",[Boolean])],S.prototype,"nzMultiple",null),S);function S(e,n,t){var r=v.call(this,e)||this;return r.cdr=n,r.noAnimation=t,r.nzShowIcon=!1,r.nzShowExpand=!0,r.nzShowLine=!1,r.nzCheckable=!1,r.nzAsyncData=!1,r.nzDraggable=!1,r.nzExpandAll=!1,r.nzHideUnMatched=!1,r.nzSelectMode=!1,r.nzCheckStrictly=!1,r.nzBlockNode=!1,r.nzDefaultExpandAll=!1,r.nzExpandedKeysChange=new i.EventEmitter,r.nzSelectedKeysChange=new i.EventEmitter,r.nzCheckedKeysChange=new i.EventEmitter,r.nzSearchValueChange=new i.EventEmitter,r.nzOnSearchNode=new i.EventEmitter,r.nzClick=new i.EventEmitter,r.nzDblClick=new i.EventEmitter,r.nzContextMenu=new i.EventEmitter,r.nzCheckBoxChange=new i.EventEmitter,r.nzExpandChange=new i.EventEmitter,r.nzOnDragStart=new i.EventEmitter,r.nzOnDragEnter=new i.EventEmitter,r.nzOnDragOver=new i.EventEmitter,r.nzOnDragLeave=new i.EventEmitter,r.nzOnDrop=new i.EventEmitter,r.nzOnDragEnd=new i.EventEmitter,r._nzMultiple=!1,r.nzDefaultSubject=new a.ReplaySubject(6),r.destroy$=new a.Subject,r.prefixCls="ant-tree",r.classMap={},r.onChange=function(){return null},r.onTouched=function(){return null},r}var T=(b.decorators=[{type:i.NgModule,args:[{imports:[n.CommonModule,s.NzAddOnModule,t.NzIconModule,s.NzNoAnimationModule],declarations:[C,h],exports:[C,h]}]}],b);function b(){}e.NzTreeModule=T,e.NzTreeServiceFactory=f,e.NzTreeComponent=C,e.NzTreeNodeComponent=h,e.NzTreeService=g,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-zorro-antd-tree.umd.min.js.map