!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/cdk/platform"),require("ng-zorro-antd/core"),require("@angular/common"),require("@angular/core"),require("ng-zorro-antd/icon")):"function"==typeof define&&define.amd?define("ng-zorro-antd/avatar",["exports","@angular/cdk/platform","ng-zorro-antd/core","@angular/common","@angular/core","ng-zorro-antd/icon"],e):e((t["ng-zorro-antd"]=t["ng-zorro-antd"]||{},t["ng-zorro-antd"].avatar={}),t.ng.cdk.platform,t["ng-zorro-antd"].core,t.ng.common,t.ng.core,t["ng-zorro-antd"].icon)}(this,function(t,e,n,s,i,r){"use strict";var o=(a.prototype.setClass=function(){var t,e=((t={})[this.prefixCls]=!0,t[this.prefixCls+"-"+this.sizeMap[this.nzSize]]=this.sizeMap[this.nzSize],t[this.prefixCls+"-"+this.nzShape]=this.nzShape,t[this.prefixCls+"-icon"]=this.nzIcon,t[this.prefixCls+"-image"]=this.hasSrc,t);return this.updateHostClassService.updateHostClass(this.el,e),this.cd.detectChanges(),this},a.prototype.imgError=function(){this.hasSrc=!1,this.hasIcon=!1,this.hasText=!1,this.nzIcon?this.hasIcon=!0:this.nzText&&(this.hasText=!0),this.setClass().notifyCalc(),this.setSizeStyle()},a.prototype.ngOnChanges=function(t){t.hasOwnProperty("nzIcon")&&t.nzIcon.currentValue&&(this.oldAPIIcon=-1<t.nzIcon.currentValue.indexOf("anticon")),this.hasText=!this.nzSrc&&!!this.nzText,this.hasIcon=!this.nzSrc&&!!this.nzIcon,this.hasSrc=!!this.nzSrc,this.setClass().notifyCalc(),this.setSizeStyle()},a.prototype.calcStringSize=function(){if(this.hasText){var t=this.textEl.nativeElement.offsetWidth,e=this.el.getBoundingClientRect().width,n=e-8<t?(e-8)/t:1;this.textStyles={transform:"scale("+n+") translateX(-50%)"},"number"==typeof this.nzSize&&Object.assign(this.textStyles,{lineHeight:this.nzSize+"px"}),this.cd.detectChanges()}},a.prototype.notifyCalc=function(){var t=this;return this.platform.isBrowser&&setTimeout(function(){t.calcStringSize()}),this},a.prototype.setSizeStyle=function(){"string"!=typeof this.nzSize&&(this.renderer.setStyle(this.el,"width",this.nzSize+"px"),this.renderer.setStyle(this.el,"height",this.nzSize+"px"),this.renderer.setStyle(this.el,"line-height",this.nzSize+"px"),this.hasIcon&&this.renderer.setStyle(this.el,"font-size",this.nzSize/2+"px"))},a.decorators=[{type:i.Component,args:[{selector:"nz-avatar",exportAs:"nzAvatar",template:'<i nz-icon *ngIf="nzIcon && hasIcon" [type]="!oldAPIIcon && nzIcon" [ngClass]="oldAPIIcon && nzIcon"></i>\n<img [src]="nzSrc" *ngIf="nzSrc && hasSrc" (error)="imgError()"/>\n<span class="ant-avatar-string" #textEl [ngStyle]="textStyles" *ngIf="nzText && hasText">{{ nzText }}</span>',providers:[n.NzUpdateHostClassService],preserveWhitespaces:!1,changeDetection:i.ChangeDetectionStrategy.OnPush,encapsulation:i.ViewEncapsulation.None}]}],a.ctorParameters=function(){return[{type:i.ElementRef},{type:i.ChangeDetectorRef},{type:n.NzUpdateHostClassService},{type:i.Renderer2},{type:e.Platform}]},a.propDecorators={nzShape:[{type:i.Input}],nzSize:[{type:i.Input}],nzText:[{type:i.Input}],nzSrc:[{type:i.Input}],nzIcon:[{type:i.Input}],textEl:[{type:i.ViewChild,args:["textEl"]}]},a);function a(t,e,n,s,i){this.elementRef=t,this.cd=e,this.updateHostClassService=n,this.renderer=s,this.platform=i,this.nzShape="circle",this.nzSize="default",this.oldAPIIcon=!0,this.hasText=!1,this.hasSrc=!0,this.hasIcon=!1,this.el=this.elementRef.nativeElement,this.prefixCls="ant-avatar",this.sizeMap={large:"lg",small:"sm"}}var h=(c.decorators=[{type:i.NgModule,args:[{declarations:[o],exports:[o],imports:[s.CommonModule,r.NzIconModule]}]}],c);function c(){}t.NzAvatarComponent=o,t.NzAvatarModule=h,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng-zorro-antd-avatar.umd.min.js.map