{"version":3,"file":"ngx-countdown.umd.js.map","sources":["ng://ngx-countdown/src/countdown.timer.ts","ng://ngx-countdown/src/countdown.config.ts","ng://ngx-countdown/src/countdown.component.ts","ng://ngx-countdown/src/countdown.module.ts","ng://ngx-countdown/ngx-countdown.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class Timer {\n  private fns: any[] = [];\n  private commands: Function[] = [];\n  private nextTime: number;\n  private ing = false;\n\n  start() {\n    if (this.ing === true) return;\n\n    this.ing = true;\n    this.nextTime = +new Date();\n    this.process();\n  }\n\n  private process() {\n    while (this.commands.length) {\n      this.commands.shift()();\n    }\n    let diff = +new Date() - this.nextTime;\n    const count = 1 + Math.floor(diff / 100);\n\n    diff = 100 - diff % 100;\n    this.nextTime += 100 * count;\n\n    let frequency: number, step: number, i: number, len: number;\n    for (i = 0, len = this.fns.length; i < len; i += 2) {\n      frequency = this.fns[i + 1];\n\n      // 100/s\n      if (0 === frequency) {\n        this.fns[i](count);\n        // 1000/s\n      } else {\n        // åææ«ä½è³0ï¼åæ¯æ¬¡å 2\n        frequency += 2 * count - 1;\n\n        step = Math.floor(frequency / 20);\n        if (step > 0) {\n          this.fns[i](step);\n        }\n\n        // ææ«ä½è¿åæ1\n        this.fns[i + 1] = frequency % 20 + 1;\n      }\n    }\n\n    if (this.ing) {\n      setTimeout(() => this.process(), diff);\n    }\n  }\n\n  add(fn: Function, frequency: number) {\n    this.commands.push(() => {\n      this.fns.push(fn);\n      this.fns.push(frequency === 1000 ? 1 : 0);\n      this.ing = true;\n    });\n  }\n\n  remove(fn: Function) {\n    this.commands.push(() => {\n      const i = this.fns.indexOf(fn);\n      if (i !== -1) {\n        this.fns.splice(i, 2);\n      }\n      this.ing = this.fns.length > 0;\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({ providedIn: 'root' })\nexport class CountdownConfig {\n  demand = false;\n  leftTime = 0;\n  template = '$!h!æ¶$!m!å$!s!ç§';\n  effect = 'normal';\n  varRegular?: RegExp = /\\$\\!([\\-\\w]+)\\!/g;\n  clock?: any[] = ['d', 100, 2, 'h', 24, 2, 'm', 60, 2, 's', 60, 2, 'u', 10, 1];\n}\n","import {\n  Component,\n  ElementRef,\n  Input,\n  OnChanges,\n  SimpleChanges,\n  OnDestroy,\n  Output,\n  EventEmitter,\n  OnInit,\n  SimpleChange,\n  ChangeDetectionStrategy,\n  ViewEncapsulation,\n  Inject,\n} from '@angular/core';\n\nimport { Config, Hand } from './interfaces';\nimport { Timer } from './countdown.timer';\nimport { CountdownConfig } from './countdown.config';\n\n@Component({\n  selector: 'countdown',\n  template: `\n    <ng-content></ng-content>\n  `,\n  styles: [\n    `\n      countdown {\n        display: none;\n      }\n    `,\n  ],\n  host: { '[class.count-down]': 'true' },\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CountdownComponent implements OnInit, OnChanges, OnDestroy {\n  private frequency = 1000;\n  private _notify: any = {};\n  private hands: Hand[] = [];\n  private left = 0;\n  private paused = false;\n  /** ä¸¤ç§æåµä¼è§¦åï¼æ¶é´ç»æ­¢æè°ç¨ `stop()` */\n  private stoped = false;\n\n  @Input()\n  config: Config;\n  @Output()\n  readonly start = new EventEmitter();\n  @Output()\n  readonly finished = new EventEmitter();\n  @Output()\n  readonly notify = new EventEmitter();\n  @Output()\n  readonly event = new EventEmitter<{ action: string; left: number }>();\n\n  constructor(\n    private el: ElementRef,\n    private timer: Timer,\n    private cog: CountdownConfig,\n  ) {}\n\n  /** å¼å§ï¼å½ `demand: false` æ¶è§¦å */\n  begin() {\n    this.paused = false;\n    this.start.emit();\n    this.callEvent('start');\n  }\n\n  /** éæ°å¼å§ */\n  restart(): void {\n    if (!this.stoped) this.destroy();\n    this.init();\n    this.callEvent('restart');\n  }\n\n  /** åæ­¢ */\n  stop() {\n    if (this.stoped) return;\n    this.stoped = true;\n    this.destroy();\n    this.callEvent('stop');\n  }\n\n  /** æåï¼éæªç»æ­¢ææï¼ */\n  pause() {\n    if (this.stoped || this.paused) return;\n    this.paused = true;\n    this.callEvent('pause');\n  }\n\n  /** æ¢å¤ */\n  resume() {\n    if (this.stoped || !this.paused) return;\n    this.paused = false;\n    this.callEvent('resume');\n  }\n\n  private callEvent(action: string) {\n    this.event.emit({ action, left: this.left });\n  }\n\n  private init() {\n    const me = this;\n    me.config = { ...new CountdownConfig(), ...me.cog, ...me.config };\n    const el = me.el.nativeElement as HTMLElement;\n    me.paused = me.config.demand;\n    me.stoped = false;\n\n    // åæmarkup\n    const tmpl = el.innerHTML || me.config.template;\n    me.config.varRegular.lastIndex = 0;\n    el.innerHTML = tmpl.replace(\n      me.config.varRegular,\n      (str: string, type: string) => {\n        // æ¶éé¢çæ ¡æ­£.\n        if (type === 'u' || type === 's-ext') me.frequency = 100;\n\n        // çæhandçmarkup\n        let content = '';\n        if (type === 's-ext') {\n          me.hands.push({ type: 's' });\n          me.hands.push({ type: 'u' });\n          content =\n            me.html('', 's', 'handlet') +\n            me.html('.', '', 'digital') +\n            me.html('', 'u', 'handlet');\n        } else {\n          me.hands.push({ type: type });\n        }\n\n        return me.html(content, type, 'hand');\n      },\n    );\n\n    const clock = me.config.clock;\n    me.hands.forEach((hand: Hand) => {\n      const type = hand.type;\n      let base = 100,\n        i: number;\n\n      hand.node = el.querySelector(`.hand-${type}`);\n      // radix, bits åå§å\n      for (i = clock.length - 3; i > -1; i -= 3) {\n        if (type === clock[i]) {\n          break;\n        }\n\n        base *= clock[i + 1];\n      }\n      hand.base = base;\n      hand.radix = clock[i + 1];\n      hand.bits = clock[i + 2];\n    });\n\n    me.getLeft();\n    me.reflow(0, true);\n\n    // bind reflow to me\n    const _reflow = me.reflow;\n    me.reflow = (count: number = 0) => {\n      return _reflow.apply(me, [count]);\n    };\n\n    // æå»º notify\n    if (me.config.notify) {\n      me.config.notify.forEach((time: number) => {\n        if (time < 1)\n          throw new Error(`the notify config must be a positive integer.`);\n        time = time * 1000;\n        time = time - (time % me.frequency);\n        me._notify[time] = true;\n      });\n    }\n\n    me.timer.add(me.reflow, me.frequency);\n    // show\n    el.style.display = 'inline';\n\n    this.timer.start();\n\n    return me;\n  }\n\n  private destroy() {\n    this.timer.remove(this.reflow);\n    return this;\n  }\n\n  /**\n   * æ´æ°æ¶é\n   */\n  private reflow(count: number = 0, force: boolean = false): void {\n    const me = this;\n    if (!force && (me.paused || me.stoped)) return;\n    me.left = me.left - me.frequency * count;\n\n    me.hands.forEach((hand: Hand) => {\n      hand.lastValue = hand.value;\n      hand.value = Math.floor(me.left / hand.base) % hand.radix;\n    });\n\n    me.repaint();\n\n    if (me._notify[me.left]) {\n      me.notify.emit(me.left);\n      me.callEvent('notify');\n    }\n\n    if (me.left < 1) {\n      me.finished.emit(0);\n      me.stoped = true;\n      me.callEvent('finished');\n      me.destroy();\n    }\n  }\n\n  /**\n   * éç»æ¶é\n   */\n  private repaint(): void {\n    const me = this;\n    if (me.config.repaint) {\n      me.config.repaint.apply(me);\n      return;\n    }\n\n    let content: string;\n\n    me.hands.forEach((hand: Hand) => {\n      if (hand.lastValue !== hand.value) {\n        content = '';\n\n        me.toDigitals(hand.value, hand.bits).forEach((digital: number) => {\n          content += me.html(digital.toString(), '', 'digital');\n        });\n\n        hand.node.innerHTML = content;\n      }\n    });\n  }\n\n  /**\n   * è·ååè®¡æ¶å©ä½å¸§æ°\n   */\n  private getLeft(): void {\n    const me = this;\n    let left: number = me.config.leftTime * 1000;\n    const end: number = me.config.stopTime;\n\n    if (!left && end) left = end - new Date().getTime();\n\n    me.left = left - (left % me.frequency);\n  }\n\n  /**\n   * çæéè¦çhtmlä»£ç ï¼è¾å©å·¥å·\n   */\n  private html(con: string, className: string, type: string): string {\n    switch (type) {\n      case 'hand':\n      case 'handlet':\n        className = type + ' hand-' + className;\n        break;\n      case 'digital':\n        if (con === '.') {\n          className = type + ' ' + type + '-point ' + className;\n        } else {\n          className = type + ' ' + type + '-' + con + ' ' + className;\n        }\n        break;\n    }\n    return '<span class=\"' + className + '\">' + con + '</span>';\n  }\n\n  /**\n   * æå¼è½¬æ¢ä¸ºç¬ç«çæ°å­å½¢å¼\n   */\n  private toDigitals(value: number, bits: number): number[] {\n    value = value < 0 ? 0 : value;\n    const digitals = [];\n    // ææ¶ãåãç§ç­æ¢ç®ææ°å­.\n    while (bits--) {\n      digitals[bits] = value % 10;\n      value = Math.floor(value / 10);\n    }\n    return digitals;\n  }\n\n  ngOnInit() {\n    this.init();\n    if (!this.config.demand) this.begin();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy();\n  }\n\n  ngOnChanges(\n    changes: { [P in keyof this]?: SimpleChange } & SimpleChanges,\n  ): void {\n    if (!changes.config.firstChange) {\n      this.restart();\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { CountdownComponent } from './countdown.component';\nimport { Timer } from './countdown.timer';\n\n@NgModule({\n    imports:        [CommonModule],\n    providers:      [Timer],\n    declarations:   [CountdownComponent],\n    exports:        [CountdownComponent]\n})\nexport class CountdownModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {CountdownConfig as Éµa} from './src/countdown.config';"],"names":["Injectable","EventEmitter","Component","ViewEncapsulation","ChangeDetectionStrategy","ElementRef","Input","Output","NgModule","CommonModule"],"mappings":"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"}
