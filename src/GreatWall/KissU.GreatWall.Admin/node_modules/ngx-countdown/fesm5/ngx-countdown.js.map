{"version":3,"file":"ngx-countdown.js.map","sources":["ng://ngx-countdown/src/countdown.timer.ts","ng://ngx-countdown/src/countdown.config.ts","ng://ngx-countdown/src/countdown.component.ts","ng://ngx-countdown/src/countdown.module.ts","ng://ngx-countdown/ngx-countdown.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class Timer {\n  private fns: any[] = [];\n  private commands: Function[] = [];\n  private nextTime: number;\n  private ing = false;\n\n  start() {\n    if (this.ing === true) return;\n\n    this.ing = true;\n    this.nextTime = +new Date();\n    this.process();\n  }\n\n  private process() {\n    while (this.commands.length) {\n      this.commands.shift()();\n    }\n    let diff = +new Date() - this.nextTime;\n    const count = 1 + Math.floor(diff / 100);\n\n    diff = 100 - diff % 100;\n    this.nextTime += 100 * count;\n\n    let frequency: number, step: number, i: number, len: number;\n    for (i = 0, len = this.fns.length; i < len; i += 2) {\n      frequency = this.fns[i + 1];\n\n      // 100/s\n      if (0 === frequency) {\n        this.fns[i](count);\n        // 1000/s\n      } else {\n        // åææ«ä½è³0ï¼åæ¯æ¬¡å 2\n        frequency += 2 * count - 1;\n\n        step = Math.floor(frequency / 20);\n        if (step > 0) {\n          this.fns[i](step);\n        }\n\n        // ææ«ä½è¿åæ1\n        this.fns[i + 1] = frequency % 20 + 1;\n      }\n    }\n\n    if (this.ing) {\n      setTimeout(() => this.process(), diff);\n    }\n  }\n\n  add(fn: Function, frequency: number) {\n    this.commands.push(() => {\n      this.fns.push(fn);\n      this.fns.push(frequency === 1000 ? 1 : 0);\n      this.ing = true;\n    });\n  }\n\n  remove(fn: Function) {\n    this.commands.push(() => {\n      const i = this.fns.indexOf(fn);\n      if (i !== -1) {\n        this.fns.splice(i, 2);\n      }\n      this.ing = this.fns.length > 0;\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({ providedIn: 'root' })\nexport class CountdownConfig {\n  demand = false;\n  leftTime = 0;\n  template = '$!h!æ¶$!m!å$!s!ç§';\n  effect = 'normal';\n  varRegular?: RegExp = /\\$\\!([\\-\\w]+)\\!/g;\n  clock?: any[] = ['d', 100, 2, 'h', 24, 2, 'm', 60, 2, 's', 60, 2, 'u', 10, 1];\n}\n","import {\n  Component,\n  ElementRef,\n  Input,\n  OnChanges,\n  SimpleChanges,\n  OnDestroy,\n  Output,\n  EventEmitter,\n  OnInit,\n  SimpleChange,\n  ChangeDetectionStrategy,\n  ViewEncapsulation,\n  Inject,\n} from '@angular/core';\n\nimport { Config, Hand } from './interfaces';\nimport { Timer } from './countdown.timer';\nimport { CountdownConfig } from './countdown.config';\n\n@Component({\n  selector: 'countdown',\n  template: `\n    <ng-content></ng-content>\n  `,\n  styles: [\n    `\n      countdown {\n        display: none;\n      }\n    `,\n  ],\n  host: { '[class.count-down]': 'true' },\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CountdownComponent implements OnInit, OnChanges, OnDestroy {\n  private frequency = 1000;\n  private _notify: any = {};\n  private hands: Hand[] = [];\n  private left = 0;\n  private paused = false;\n  /** ä¸¤ç§æåµä¼è§¦åï¼æ¶é´ç»æ­¢æè°ç¨ `stop()` */\n  private stoped = false;\n\n  @Input()\n  config: Config;\n  @Output()\n  readonly start = new EventEmitter();\n  @Output()\n  readonly finished = new EventEmitter();\n  @Output()\n  readonly notify = new EventEmitter();\n  @Output()\n  readonly event = new EventEmitter<{ action: string; left: number }>();\n\n  constructor(\n    private el: ElementRef,\n    private timer: Timer,\n    private cog: CountdownConfig,\n  ) {}\n\n  /** å¼å§ï¼å½ `demand: false` æ¶è§¦å */\n  begin() {\n    this.paused = false;\n    this.start.emit();\n    this.callEvent('start');\n  }\n\n  /** éæ°å¼å§ */\n  restart(): void {\n    if (!this.stoped) this.destroy();\n    this.init();\n    this.callEvent('restart');\n  }\n\n  /** åæ­¢ */\n  stop() {\n    if (this.stoped) return;\n    this.stoped = true;\n    this.destroy();\n    this.callEvent('stop');\n  }\n\n  /** æåï¼éæªç»æ­¢ææï¼ */\n  pause() {\n    if (this.stoped || this.paused) return;\n    this.paused = true;\n    this.callEvent('pause');\n  }\n\n  /** æ¢å¤ */\n  resume() {\n    if (this.stoped || !this.paused) return;\n    this.paused = false;\n    this.callEvent('resume');\n  }\n\n  private callEvent(action: string) {\n    this.event.emit({ action, left: this.left });\n  }\n\n  private init() {\n    const me = this;\n    me.config = { ...new CountdownConfig(), ...me.cog, ...me.config };\n    const el = me.el.nativeElement as HTMLElement;\n    me.paused = me.config.demand;\n    me.stoped = false;\n\n    // åæmarkup\n    const tmpl = el.innerHTML || me.config.template;\n    me.config.varRegular.lastIndex = 0;\n    el.innerHTML = tmpl.replace(\n      me.config.varRegular,\n      (str: string, type: string) => {\n        // æ¶éé¢çæ ¡æ­£.\n        if (type === 'u' || type === 's-ext') me.frequency = 100;\n\n        // çæhandçmarkup\n        let content = '';\n        if (type === 's-ext') {\n          me.hands.push({ type: 's' });\n          me.hands.push({ type: 'u' });\n          content =\n            me.html('', 's', 'handlet') +\n            me.html('.', '', 'digital') +\n            me.html('', 'u', 'handlet');\n        } else {\n          me.hands.push({ type: type });\n        }\n\n        return me.html(content, type, 'hand');\n      },\n    );\n\n    const clock = me.config.clock;\n    me.hands.forEach((hand: Hand) => {\n      const type = hand.type;\n      let base = 100,\n        i: number;\n\n      hand.node = el.querySelector(`.hand-${type}`);\n      // radix, bits åå§å\n      for (i = clock.length - 3; i > -1; i -= 3) {\n        if (type === clock[i]) {\n          break;\n        }\n\n        base *= clock[i + 1];\n      }\n      hand.base = base;\n      hand.radix = clock[i + 1];\n      hand.bits = clock[i + 2];\n    });\n\n    me.getLeft();\n    me.reflow(0, true);\n\n    // bind reflow to me\n    const _reflow = me.reflow;\n    me.reflow = (count: number = 0) => {\n      return _reflow.apply(me, [count]);\n    };\n\n    // æå»º notify\n    if (me.config.notify) {\n      me.config.notify.forEach((time: number) => {\n        if (time < 1)\n          throw new Error(`the notify config must be a positive integer.`);\n        time = time * 1000;\n        time = time - (time % me.frequency);\n        me._notify[time] = true;\n      });\n    }\n\n    me.timer.add(me.reflow, me.frequency);\n    // show\n    el.style.display = 'inline';\n\n    this.timer.start();\n\n    return me;\n  }\n\n  private destroy() {\n    this.timer.remove(this.reflow);\n    return this;\n  }\n\n  /**\n   * æ´æ°æ¶é\n   */\n  private reflow(count: number = 0, force: boolean = false): void {\n    const me = this;\n    if (!force && (me.paused || me.stoped)) return;\n    me.left = me.left - me.frequency * count;\n\n    me.hands.forEach((hand: Hand) => {\n      hand.lastValue = hand.value;\n      hand.value = Math.floor(me.left / hand.base) % hand.radix;\n    });\n\n    me.repaint();\n\n    if (me._notify[me.left]) {\n      me.notify.emit(me.left);\n      me.callEvent('notify');\n    }\n\n    if (me.left < 1) {\n      me.finished.emit(0);\n      me.stoped = true;\n      me.callEvent('finished');\n      me.destroy();\n    }\n  }\n\n  /**\n   * éç»æ¶é\n   */\n  private repaint(): void {\n    const me = this;\n    if (me.config.repaint) {\n      me.config.repaint.apply(me);\n      return;\n    }\n\n    let content: string;\n\n    me.hands.forEach((hand: Hand) => {\n      if (hand.lastValue !== hand.value) {\n        content = '';\n\n        me.toDigitals(hand.value, hand.bits).forEach((digital: number) => {\n          content += me.html(digital.toString(), '', 'digital');\n        });\n\n        hand.node.innerHTML = content;\n      }\n    });\n  }\n\n  /**\n   * è·ååè®¡æ¶å©ä½å¸§æ°\n   */\n  private getLeft(): void {\n    const me = this;\n    let left: number = me.config.leftTime * 1000;\n    const end: number = me.config.stopTime;\n\n    if (!left && end) left = end - new Date().getTime();\n\n    me.left = left - (left % me.frequency);\n  }\n\n  /**\n   * çæéè¦çhtmlä»£ç ï¼è¾å©å·¥å·\n   */\n  private html(con: string, className: string, type: string): string {\n    switch (type) {\n      case 'hand':\n      case 'handlet':\n        className = type + ' hand-' + className;\n        break;\n      case 'digital':\n        if (con === '.') {\n          className = type + ' ' + type + '-point ' + className;\n        } else {\n          className = type + ' ' + type + '-' + con + ' ' + className;\n        }\n        break;\n    }\n    return '<span class=\"' + className + '\">' + con + '</span>';\n  }\n\n  /**\n   * æå¼è½¬æ¢ä¸ºç¬ç«çæ°å­å½¢å¼\n   */\n  private toDigitals(value: number, bits: number): number[] {\n    value = value < 0 ? 0 : value;\n    const digitals = [];\n    // ææ¶ãåãç§ç­æ¢ç®ææ°å­.\n    while (bits--) {\n      digitals[bits] = value % 10;\n      value = Math.floor(value / 10);\n    }\n    return digitals;\n  }\n\n  ngOnInit() {\n    this.init();\n    if (!this.config.demand) this.begin();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy();\n  }\n\n  ngOnChanges(\n    changes: { [P in keyof this]?: SimpleChange } & SimpleChanges,\n  ): void {\n    if (!changes.config.firstChange) {\n      this.restart();\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { CountdownComponent } from './countdown.component';\nimport { Timer } from './countdown.timer';\n\n@NgModule({\n    imports:        [CommonModule],\n    providers:      [Timer],\n    declarations:   [CountdownComponent],\n    exports:        [CountdownComponent]\n})\nexport class CountdownModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {CountdownConfig as Éµa} from './src/countdown.config';"],"names":[],"mappings":"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"}
