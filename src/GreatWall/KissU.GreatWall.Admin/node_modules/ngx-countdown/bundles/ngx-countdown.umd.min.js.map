{"version":3,"sources":["ng://ngx-countdown/src/countdown.timer.ts","ng://ngx-countdown/src/countdown.config.ts","ng://ngx-countdown/src/countdown.component.ts","ng://ngx-countdown/src/countdown.module.ts"],"names":["Timer","this","fns","commands","ing","prototype","start","nextTime","Date","process","_this","length","shift","frequency","step","i","len","diff","count","Math","floor","setTimeout","add","fn","push","remove","indexOf","splice","Injectable","CountdownConfig","demand","leftTime","template","effect","varRegular","clock","args","providedIn","CountdownComponent","el","timer","cog","_notify","hands","left","paused","stoped","EventEmitter","finished","notify","event","begin","emit","callEvent","restart","destroy","init","stop","pause","resume","action","me","config","__assign","nativeElement","tmpl","innerHTML","lastIndex","replace","str","type","content","html","forEach","hand","base","node","querySelector","radix","bits","getLeft","reflow","_reflow","apply","time","Error","style","display","force","lastValue","value","repaint","toDigitals","digital","toString","end","stopTime","getTime","con","className","digitals","ngOnInit","ngOnDestroy","ngOnChanges","changes","firstChange","Component","selector","host","[class.count-down]","encapsulation","ViewEncapsulation","None","changeDetection","ChangeDetectionStrategy","OnPush","ElementRef","Input","Output","CountdownModule","NgModule","imports","CommonModule","providers","declarations","exports"],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class Timer {\n  private fns: any[] = [];\n  private commands: Function[] = [];\n  private nextTime: number;\n  private ing = false;\n\n  start() {\n    if (this.ing === true) return;\n\n    this.ing = true;\n    this.nextTime = +new Date();\n    this.process();\n  }\n\n  private process() {\n    while (this.commands.length) {\n      this.commands.shift()();\n    }\n    let diff = +new Date() - this.nextTime;\n    const count = 1 + Math.floor(diff / 100);\n\n    diff = 100 - diff % 100;\n    this.nextTime += 100 * count;\n\n    let frequency: number, step: number, i: number, len: number;\n    for (i = 0, len = this.fns.length; i < len; i += 2) {\n      frequency = this.fns[i + 1];\n\n      // 100/s\n      if (0 === frequency) {\n        this.fns[i](count);\n        // 1000/s\n      } else {\n        // åææ«ä½è³0ï¼åæ¯æ¬¡å 2\n        frequency += 2 * count - 1;\n\n        step = Math.floor(frequency / 20);\n        if (step > 0) {\n          this.fns[i](step);\n        }\n\n        // ææ«ä½è¿åæ1\n        this.fns[i + 1] = frequency % 20 + 1;\n      }\n    }\n\n    if (this.ing) {\n      setTimeout(() => this.process(), diff);\n    }\n  }\n\n  add(fn: Function, frequency: number) {\n    this.commands.push(() => {\n      this.fns.push(fn);\n      this.fns.push(frequency === 1000 ? 1 : 0);\n      this.ing = true;\n    });\n  }\n\n  remove(fn: Function) {\n    this.commands.push(() => {\n      const i = this.fns.indexOf(fn);\n      if (i !== -1) {\n        this.fns.splice(i, 2);\n      }\n      this.ing = this.fns.length > 0;\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({ providedIn: 'root' })\nexport class CountdownConfig {\n  demand = false;\n  leftTime = 0;\n  template = '$!h!æ¶$!m!å$!s!ç§';\n  effect = 'normal';\n  varRegular?: RegExp = /\\$\\!([\\-\\w]+)\\!/g;\n  clock?: any[] = ['d', 100, 2, 'h', 24, 2, 'm', 60, 2, 's', 60, 2, 'u', 10, 1];\n}\n","import {\n  Component,\n  ElementRef,\n  Input,\n  OnChanges,\n  SimpleChanges,\n  OnDestroy,\n  Output,\n  EventEmitter,\n  OnInit,\n  SimpleChange,\n  ChangeDetectionStrategy,\n  ViewEncapsulation,\n  Inject,\n} from '@angular/core';\n\nimport { Config, Hand } from './interfaces';\nimport { Timer } from './countdown.timer';\nimport { CountdownConfig } from './countdown.config';\n\n@Component({\n  selector: 'countdown',\n  template: `\n    <ng-content></ng-content>\n  `,\n  styles: [\n    `\n      countdown {\n        display: none;\n      }\n    `,\n  ],\n  host: { '[class.count-down]': 'true' },\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CountdownComponent implements OnInit, OnChanges, OnDestroy {\n  private frequency = 1000;\n  private _notify: any = {};\n  private hands: Hand[] = [];\n  private left = 0;\n  private paused = false;\n  /** ä¸¤ç§æåµä¼è§¦åï¼æ¶é´ç»æ­¢æè°ç¨ `stop()` */\n  private stoped = false;\n\n  @Input()\n  config: Config;\n  @Output()\n  readonly start = new EventEmitter();\n  @Output()\n  readonly finished = new EventEmitter();\n  @Output()\n  readonly notify = new EventEmitter();\n  @Output()\n  readonly event = new EventEmitter<{ action: string; left: number }>();\n\n  constructor(\n    private el: ElementRef,\n    private timer: Timer,\n    private cog: CountdownConfig,\n  ) {}\n\n  /** å¼å§ï¼å½ `demand: false` æ¶è§¦å */\n  begin() {\n    this.paused = false;\n    this.start.emit();\n    this.callEvent('start');\n  }\n\n  /** éæ°å¼å§ */\n  restart(): void {\n    if (!this.stoped) this.destroy();\n    this.init();\n    this.callEvent('restart');\n  }\n\n  /** åæ­¢ */\n  stop() {\n    if (this.stoped) return;\n    this.stoped = true;\n    this.destroy();\n    this.callEvent('stop');\n  }\n\n  /** æåï¼éæªç»æ­¢ææï¼ */\n  pause() {\n    if (this.stoped || this.paused) return;\n    this.paused = true;\n    this.callEvent('pause');\n  }\n\n  /** æ¢å¤ */\n  resume() {\n    if (this.stoped || !this.paused) return;\n    this.paused = false;\n    this.callEvent('resume');\n  }\n\n  private callEvent(action: string) {\n    this.event.emit({ action, left: this.left });\n  }\n\n  private init() {\n    const me = this;\n    me.config = { ...new CountdownConfig(), ...me.cog, ...me.config };\n    const el = me.el.nativeElement as HTMLElement;\n    me.paused = me.config.demand;\n    me.stoped = false;\n\n    // åæmarkup\n    const tmpl = el.innerHTML || me.config.template;\n    me.config.varRegular.lastIndex = 0;\n    el.innerHTML = tmpl.replace(\n      me.config.varRegular,\n      (str: string, type: string) => {\n        // æ¶éé¢çæ ¡æ­£.\n        if (type === 'u' || type === 's-ext') me.frequency = 100;\n\n        // çæhandçmarkup\n        let content = '';\n        if (type === 's-ext') {\n          me.hands.push({ type: 's' });\n          me.hands.push({ type: 'u' });\n          content =\n            me.html('', 's', 'handlet') +\n            me.html('.', '', 'digital') +\n            me.html('', 'u', 'handlet');\n        } else {\n          me.hands.push({ type: type });\n        }\n\n        return me.html(content, type, 'hand');\n      },\n    );\n\n    const clock = me.config.clock;\n    me.hands.forEach((hand: Hand) => {\n      const type = hand.type;\n      let base = 100,\n        i: number;\n\n      hand.node = el.querySelector(`.hand-${type}`);\n      // radix, bits åå§å\n      for (i = clock.length - 3; i > -1; i -= 3) {\n        if (type === clock[i]) {\n          break;\n        }\n\n        base *= clock[i + 1];\n      }\n      hand.base = base;\n      hand.radix = clock[i + 1];\n      hand.bits = clock[i + 2];\n    });\n\n    me.getLeft();\n    me.reflow(0, true);\n\n    // bind reflow to me\n    const _reflow = me.reflow;\n    me.reflow = (count: number = 0) => {\n      return _reflow.apply(me, [count]);\n    };\n\n    // æå»º notify\n    if (me.config.notify) {\n      me.config.notify.forEach((time: number) => {\n        if (time < 1)\n          throw new Error(`the notify config must be a positive integer.`);\n        time = time * 1000;\n        time = time - (time % me.frequency);\n        me._notify[time] = true;\n      });\n    }\n\n    me.timer.add(me.reflow, me.frequency);\n    // show\n    el.style.display = 'inline';\n\n    this.timer.start();\n\n    return me;\n  }\n\n  private destroy() {\n    this.timer.remove(this.reflow);\n    return this;\n  }\n\n  /**\n   * æ´æ°æ¶é\n   */\n  private reflow(count: number = 0, force: boolean = false): void {\n    const me = this;\n    if (!force && (me.paused || me.stoped)) return;\n    me.left = me.left - me.frequency * count;\n\n    me.hands.forEach((hand: Hand) => {\n      hand.lastValue = hand.value;\n      hand.value = Math.floor(me.left / hand.base) % hand.radix;\n    });\n\n    me.repaint();\n\n    if (me._notify[me.left]) {\n      me.notify.emit(me.left);\n      me.callEvent('notify');\n    }\n\n    if (me.left < 1) {\n      me.finished.emit(0);\n      me.stoped = true;\n      me.callEvent('finished');\n      me.destroy();\n    }\n  }\n\n  /**\n   * éç»æ¶é\n   */\n  private repaint(): void {\n    const me = this;\n    if (me.config.repaint) {\n      me.config.repaint.apply(me);\n      return;\n    }\n\n    let content: string;\n\n    me.hands.forEach((hand: Hand) => {\n      if (hand.lastValue !== hand.value) {\n        content = '';\n\n        me.toDigitals(hand.value, hand.bits).forEach((digital: number) => {\n          content += me.html(digital.toString(), '', 'digital');\n        });\n\n        hand.node.innerHTML = content;\n      }\n    });\n  }\n\n  /**\n   * è·ååè®¡æ¶å©ä½å¸§æ°\n   */\n  private getLeft(): void {\n    const me = this;\n    let left: number = me.config.leftTime * 1000;\n    const end: number = me.config.stopTime;\n\n    if (!left && end) left = end - new Date().getTime();\n\n    me.left = left - (left % me.frequency);\n  }\n\n  /**\n   * çæéè¦çhtmlä»£ç ï¼è¾å©å·¥å·\n   */\n  private html(con: string, className: string, type: string): string {\n    switch (type) {\n      case 'hand':\n      case 'handlet':\n        className = type + ' hand-' + className;\n        break;\n      case 'digital':\n        if (con === '.') {\n          className = type + ' ' + type + '-point ' + className;\n        } else {\n          className = type + ' ' + type + '-' + con + ' ' + className;\n        }\n        break;\n    }\n    return '<span class=\"' + className + '\">' + con + '</span>';\n  }\n\n  /**\n   * æå¼è½¬æ¢ä¸ºç¬ç«çæ°å­å½¢å¼\n   */\n  private toDigitals(value: number, bits: number): number[] {\n    value = value < 0 ? 0 : value;\n    const digitals = [];\n    // ææ¶ãåãç§ç­æ¢ç®ææ°å­.\n    while (bits--) {\n      digitals[bits] = value % 10;\n      value = Math.floor(value / 10);\n    }\n    return digitals;\n  }\n\n  ngOnInit() {\n    this.init();\n    if (!this.config.demand) this.begin();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy();\n  }\n\n  ngOnChanges(\n    changes: { [P in keyof this]?: SimpleChange } & SimpleChanges,\n  ): void {\n    if (!changes.config.firstChange) {\n      this.restart();\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { CountdownComponent } from './countdown.component';\nimport { Timer } from './countdown.timer';\n\n@NgModule({\n    imports:        [CommonModule],\n    providers:      [Timer],\n    declarations:   [CountdownComponent],\n    exports:        [CountdownComponent]\n})\nexport class CountdownModule {\n}\n"]}