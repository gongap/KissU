!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/cdk/keycodes"),require("@angular/cdk/platform"),require("@angular/common"),require("ng-zorro-antd/core"),require("rxjs/operators"),require("@angular/core"),require("rxjs")):"function"==typeof define&&define.amd?define("ng-zorro-antd/carousel",["exports","@angular/cdk/keycodes","@angular/cdk/platform","@angular/common","ng-zorro-antd/core","rxjs/operators","@angular/core","rxjs"],e):e((t["ng-zorro-antd"]=t["ng-zorro-antd"]||{},t["ng-zorro-antd"].carousel={}),t.ng.cdk.keycodes,t.ng.cdk.platform,t.ng.common,t["ng-zorro-antd"].core,t.rxjs.operators,t.ng.core,t.rxjs)}(this,function(t,e,n,i,l,r,c,h){"use strict";var s=(Object.defineProperty(o.prototype,"isActive",{get:function(){return this._active},set:function(t){this._active=t,this.isActive?this.renderer.addClass(this.el,"slick-active"):this.renderer.removeClass(this.el,"slick-active")},enumerable:!0,configurable:!0}),o.decorators=[{type:c.Directive,args:[{selector:"[nz-carousel-content]",exportAs:"nzCarouselContent"}]}],o.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2}]},o);function o(t,e){this.elementRef=t,this.renderer=e,this.el=this.elementRef.nativeElement,this._active=!1,e.addClass(t.nativeElement,"slick-slide")}var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function p(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function u(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;0<=a;a--)(r=t[a])&&(o=(s<3?r(o):3<s?r(e,n,o):r(e,n))||o);return 3<s&&o&&Object.defineProperty(e,n,o),o}function d(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}var g=new c.InjectionToken("nz-carousel-custom-strategies"),y=(Object.defineProperty(f.prototype,"maxIndex",{get:function(){return this.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"firstEl",{get:function(){return this.contents[0].el},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"lastEl",{get:function(){return this.contents[this.maxIndex].el},enumerable:!0,configurable:!0}),f.prototype.withCarouselContents=function(t){var e=this.carouselComponent,n=e.el.getBoundingClientRect();this.slickListEl=e.slickListEl,this.slickTrackEl=e.slickTrackEl,this.unitWidth=n.width,this.unitHeight=n.height,this.contents=t?t.toArray():[],this.length=this.contents.length},f.prototype.dragging=function(t){},f.prototype.dispose=function(){},f.prototype.getFromToInBoundary=function(t,e){var n=this.maxIndex+1;return{from:(t+n)%n,to:(e+n)%n}},f);
/**
     * @license
     * Copyright Alibaba.com All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE
     */function f(t,e,n){this.cdr=e,this.renderer=n,this.carouselComponent=t}var m,v=(p(k,m=y),k.prototype.withCarouselContents=function(t){var n=this;m.prototype.withCarouselContents.call(this,t),this.contents&&(this.slickTrackEl.style.width=this.length*this.unitWidth+"px",this.contents.forEach(function(t,e){n.renderer.setStyle(t.el,"opacity",n.carouselComponent.activeIndex===e?"1":"0"),n.renderer.setStyle(t.el,"position","relative"),n.renderer.setStyle(t.el,"width",n.unitWidth+"px"),n.renderer.setStyle(t.el,"left",-n.unitWidth*e+"px"),n.renderer.setStyle(t.el,"transition",["opacity 500ms ease 0s","visibility 500ms ease 0s"])}))},k.prototype["switch"]=function(t,e){var n=this,i=this.getFromToInBoundary(t,e).to,r=new h.Subject;return this.contents.forEach(function(t,e){n.renderer.setStyle(t.el,"opacity",i===e?"1":"0")}),setTimeout(function(){r.next(),r.complete()},this.carouselComponent.nzTransitionSpeed),r},k.prototype.dispose=function(){var e=this;this.contents.forEach(function(t){e.renderer.setStyle(t.el,"transition",null)}),m.prototype.dispose.call(this)},k);function k(){return null!==m&&m.apply(this,arguments)||this}var x,C=(p(T,x=y),Object.defineProperty(T.prototype,"vertical",{get:function(){return this.carouselComponent.nzVertical},enumerable:!0,configurable:!0}),T.prototype.dispose=function(){x.prototype.dispose.call(this),this.renderer.setStyle(this.slickTrackEl,"transform",null)},T.prototype.withCarouselContents=function(t){var e=this;x.prototype.withCarouselContents.call(this,t);var n=this.carouselComponent.activeIndex;this.contents.length&&(this.vertical?(this.renderer.setStyle(this.slickListEl,"height",this.unitHeight+"px"),this.renderer.setStyle(this.slickTrackEl,"height",this.length*this.unitHeight+"px"),this.renderer.setStyle(this.slickTrackEl,"transform","translate3d(0, "+-n*this.unitHeight+"px, 0)")):(this.renderer.setStyle(this.slickTrackEl,"width",this.length*this.unitWidth+"px"),this.renderer.setStyle(this.slickTrackEl,"transform","translate3d("+-n*this.unitWidth+"px, 0, 0)")),this.contents.forEach(function(t){e.renderer.setStyle(t.el,"position","relative"),e.renderer.setStyle(t.el,"width",e.unitWidth+"px")}))},T.prototype["switch"]=function(t,e){var n=this,i=this.getFromToInBoundary(t,e).to,r=new h.Subject;return this.renderer.setStyle(this.slickTrackEl,"transition","transform 500ms ease"),this.vertical?this.verticalTransform(t,e):this.horizontalTransform(t,e),this.isTransitioning=!0,this.isDragging=!1,setTimeout(function(){n.renderer.setStyle(n.slickTrackEl,"transition",null),n.contents.forEach(function(t){n.renderer.setStyle(t.el,n.vertical?"top":"left",null)}),n.vertical?n.renderer.setStyle(n.slickTrackEl,"transform","translate3d(0, "+-i*n.unitHeight+"px, 0)"):n.renderer.setStyle(n.slickTrackEl,"transform","translate3d("+-i*n.unitWidth+"px, 0, 0)"),n.isTransitioning=!1,r.next(),r.complete()},this.carouselComponent.nzTransitionSpeed),r.asObservable()},T.prototype.dragging=function(t){if(!this.isTransitioning){var e=this.carouselComponent.activeIndex;this.carouselComponent.nzVertical?(!this.isDragging&&2<this.length&&(e===this.maxIndex?this.prepareVerticalContext(!0):0===e&&this.prepareVerticalContext(!1)),this.renderer.setStyle(this.slickTrackEl,"transform","translate3d(0, "+(-e*this.unitHeight+t.x)+"px, 0)")):(!this.isDragging&&2<this.length&&(e===this.maxIndex?this.prepareHorizontalContext(!0):0===e&&this.prepareHorizontalContext(!1)),this.renderer.setStyle(this.slickTrackEl,"transform","translate3d("+(-e*this.unitWidth+t.x)+"px, 0, 0)")),this.isDragging=!0}},T.prototype.verticalTransform=function(t,e){var n=this.getFromToInBoundary(t,e),i=n.from,r=n.to;2<this.length&&e!==r?(this.prepareVerticalContext(r<i),this.renderer.setStyle(this.slickTrackEl,"transform","translate3d(0, "+-e*this.unitHeight+"px, 0)")):this.renderer.setStyle(this.slickTrackEl,"transform","translate3d(0, "+-r*this.unitHeight+"px, 0")},T.prototype.horizontalTransform=function(t,e){var n=this.getFromToInBoundary(t,e),i=n.from,r=n.to;2<this.length&&e!==r?(this.prepareHorizontalContext(r<i),this.renderer.setStyle(this.slickTrackEl,"transform","translate3d("+-e*this.unitWidth+"px, 0, 0)")):this.renderer.setStyle(this.slickTrackEl,"transform","translate3d("+-r*this.unitWidth+"px, 0, 0")},T.prototype.prepareVerticalContext=function(t){t?(this.renderer.setStyle(this.firstEl,"top",this.length*this.unitHeight+"px"),this.renderer.setStyle(this.lastEl,"top",null)):(this.renderer.setStyle(this.firstEl,"top",null),this.renderer.setStyle(this.lastEl,"top",-this.unitHeight*this.length+"px"))},T.prototype.prepareHorizontalContext=function(t){t?(this.renderer.setStyle(this.firstEl,"left",this.length*this.unitWidth+"px"),this.renderer.setStyle(this.lastEl,"left",null)):(this.renderer.setStyle(this.firstEl,"left",null),this.renderer.setStyle(this.lastEl,"left",-this.unitWidth*this.length+"px"))},T);function T(){var t=null!==x&&x.apply(this,arguments)||this;return t.isDragging=!1,t.isTransitioning=!1,t}var E=(S.prototype.ngAfterContentInit=function(){this.markContentActive(0)},S.prototype.ngAfterViewInit=function(){var t=this;this.platform.isBrowser&&(this.slickListEl=this.slickList.nativeElement,this.slickTrackEl=this.slickTrack.nativeElement,this.carouselContents.changes.pipe(r.takeUntil(this.destroy$)).subscribe(function(){t.markContentActive(0),t.syncStrategy()}),this.ngZone.runOutsideAngular(function(){h.fromEvent(window,"resize").pipe(r.takeUntil(t.destroy$),r.throttleTime(16)).subscribe(function(){t.syncStrategy()})}),this.switchStrategy(),this.markContentActive(0),this.syncStrategy(),Promise.resolve().then(function(){t.syncStrategy()}))},S.prototype.ngOnChanges=function(t){var e=t.nzEffect;e&&!e.isFirstChange()&&(this.switchStrategy(),this.markContentActive(0),this.syncStrategy()),this.nzAutoPlay&&this.nzAutoPlaySpeed?this.scheduleNextTransition():this.clearScheduledTransition()},S.prototype.ngOnDestroy=function(){this.clearScheduledTransition(),this.strategy&&this.strategy.dispose(),this.dispose(),this.destroy$.next(),this.destroy$.complete()},S.prototype.onKeyDown=function(t){t.keyCode===e.LEFT_ARROW?(t.preventDefault(),this.pre()):t.keyCode===e.RIGHT_ARROW&&(this.next(),t.preventDefault())},S.prototype.next=function(){this.goTo(this.activeIndex+1)},S.prototype.pre=function(){this.goTo(this.activeIndex-1)},S.prototype.goTo=function(t){var e=this;if(this.carouselContents&&this.carouselContents.length&&!this.isTransiting){var n=this.carouselContents.length,i=this.activeIndex,r=(t+n)%n;this.isTransiting=!0,this.nzBeforeChange.emit({from:i,to:r}),this.strategy["switch"](this.activeIndex,t).subscribe(function(){e.scheduleNextTransition(),e.nzAfterChange.emit(t),e.isTransiting=!1}),this.markContentActive(r),this.cdr.markForCheck()}},S.prototype.switchStrategy=function(){var e=this;this.strategy&&this.strategy.dispose();var t=this.customStrategies?this.customStrategies.find(function(t){return t.name===e.nzEffect}):null;this.strategy=t?new t.strategy(this,this.cdr,this.renderer):"scrollx"===this.nzEffect?new C(this,this.cdr,this.renderer):new v(this,this.cdr,this.renderer)},S.prototype.scheduleNextTransition=function(){var t=this;this.clearScheduledTransition(),this.nzAutoPlay&&0<this.nzAutoPlaySpeed&&this.platform.isBrowser&&(this.transitionInProgress=setTimeout(function(){t.goTo(t.activeIndex+1)},this.nzAutoPlaySpeed))},S.prototype.clearScheduledTransition=function(){this.transitionInProgress&&(clearTimeout(this.transitionInProgress),this.transitionInProgress=null)},S.prototype.markContentActive=function(n){this.activeIndex=n,this.carouselContents&&this.carouselContents.forEach(function(t,e){t.isActive=n===e}),this.cdr.markForCheck()},S.prototype.syncStrategy=function(){this.strategy&&this.strategy.withCarouselContents(this.carouselContents)},S.prototype.dispose=function(){this.document.removeEventListener("mousemove",this.pointerMove),this.document.removeEventListener("touchmove",this.pointerMove),this.document.removeEventListener("touchend",this.pointerMove),this.document.removeEventListener("mouseup",this.pointerMove)},S.decorators=[{type:c.Component,args:[{changeDetection:c.ChangeDetectionStrategy.OnPush,encapsulation:c.ViewEncapsulation.None,selector:"nz-carousel",exportAs:"nzCarousel",preserveWhitespaces:!1,template:'<div class="slick-initialized slick-slider" [class.slick-vertical]="nzVertical">\n  <div\n    #slickList\n    class="slick-list"\n    tabindex="-1"\n    (keydown)="onKeyDown($event)"\n    (mousedown)="pointerDown($event)"\n    (touchstart)="pointerDown($event)"\n  >\n    \x3c!-- Render carousel items. --\x3e\n    <div class="slick-track" #slickTrack>\n      <ng-content></ng-content>\n    </div>\n  </div>\n  \x3c!-- Render dots. --\x3e\n  <ul class="slick-dots" *ngIf="nzDots">\n    <li\n      *ngFor="let content of carouselContents; let i = index"\n      [class.slick-active]="content.isActive"\n      (click)="goTo(i)"\n    >\n      <ng-template [ngTemplateOutlet]="nzDotRender || renderDotTemplate" [ngTemplateOutletContext]="{ $implicit: i }">\n      </ng-template>\n    </li>\n  </ul>\n</div>\n\n<ng-template #renderDotTemplate let-index>\n  <button>{{ index + 1 }}</button>\n</ng-template>\n',host:{"[class.ant-carousel-vertical]":"nzVertical"},styles:["\n      nz-carousel {\n        display: block;\n        position: relative;\n        overflow: hidden;\n        width: 100%;\n        height: 100%;\n      }\n\n      .slick-dots {\n        display: block;\n      }\n\n      .slick-track {\n        opacity: 1;\n      }\n    "]}]}],S.ctorParameters=function(){return[{type:c.ElementRef},{type:undefined,decorators:[{type:c.Inject,args:[i.DOCUMENT]}]},{type:c.Renderer2},{type:c.ChangeDetectorRef},{type:c.NgZone},{type:n.Platform},{type:Array,decorators:[{type:c.Optional},{type:c.Inject,args:[g]}]}]},S.propDecorators={carouselContents:[{type:c.ContentChildren,args:[s]}],slickList:[{type:c.ViewChild,args:["slickList"]}],slickTrack:[{type:c.ViewChild,args:["slickTrack"]}],nzDotRender:[{type:c.Input}],nzEffect:[{type:c.Input}],nzEnableSwipe:[{type:c.Input}],nzDots:[{type:c.Input}],nzVertical:[{type:c.Input}],nzAutoPlay:[{type:c.Input}],nzAutoPlaySpeed:[{type:c.Input}],nzTransitionSpeed:[{type:c.Input}],nzBeforeChange:[{type:c.Output}],nzAfterChange:[{type:c.Output}]},u([l.InputBoolean(),d("design:type",Object)],S.prototype,"nzEnableSwipe",void 0),u([l.InputBoolean(),d("design:type",Boolean)],S.prototype,"nzDots",void 0),u([l.InputBoolean(),d("design:type",Boolean)],S.prototype,"nzVertical",void 0),u([l.InputBoolean(),d("design:type",Object)],S.prototype,"nzAutoPlay",void 0),u([l.InputNumber(),d("design:type",Object)],S.prototype,"nzAutoPlaySpeed",void 0),u([l.InputNumber(),d("design:type",Object)],S.prototype,"nzTransitionSpeed",void 0),S);function S(t,e,n,i,r,s,o){var a=this;this.renderer=n,this.cdr=i,this.ngZone=r,this.platform=s,this.customStrategies=o,this.nzEffect="scrollx",this.nzEnableSwipe=!0,this.nzDots=!0,this.nzVertical=!1,this.nzAutoPlay=!1,this.nzAutoPlaySpeed=3e3,this.nzTransitionSpeed=500,this.nzBeforeChange=new c.EventEmitter,this.nzAfterChange=new c.EventEmitter,this.activeIndex=0,this.destroy$=new h.Subject,this.gestureRect=null,this.pointerDelta=null,this.pointerPosition=null,this.isTransiting=!1,this.isDragging=!1,this.pointerDown=function(t){if(!a.isDragging&&!a.isTransiting&&a.nzEnableSwipe){var e=l.isTouchEvent(t)?t.touches[0]||t.changedTouches[0]:t;a.isDragging=!0,a.clearScheduledTransition(),a.gestureRect=a.slickListEl.getBoundingClientRect(),a.pointerPosition={x:e.clientX,y:e.clientY},a.document.addEventListener("mousemove",a.pointerMove),a.document.addEventListener("touchmove",a.pointerMove),a.document.addEventListener("mouseup",a.pointerUp),a.document.addEventListener("touchend",a.pointerUp)}},this.pointerMove=function(t){if(a.isDragging){var e=l.isTouchEvent(t)?t.touches[0]||t.changedTouches[0]:t;a.pointerDelta={x:e.clientX-a.pointerPosition.x,y:e.clientY-a.pointerPosition.y},5<Math.abs(a.pointerDelta.x)&&a.strategy.dragging(a.pointerDelta)}},this.pointerUp=function(){if(a.isDragging&&a.nzEnableSwipe){var t=a.pointerDelta?a.pointerDelta.x:0;Math.abs(t)>a.gestureRect.width/3?a.goTo(0<t?a.activeIndex-1:a.activeIndex+1):a.goTo(a.activeIndex),a.gestureRect=null,a.pointerDelta=null,a.isDragging=!1,a.dispose()}},this.document=e,this.renderer.addClass(t.nativeElement,"ant-carousel"),this.el=t.nativeElement}var z=(b.decorators=[{type:c.NgModule,args:[{declarations:[E,s],exports:[E,s],imports:[i.CommonModule]}]}],b);function b(){}t.NzCarouselModule=z,t.NzCarouselComponent=E,t.NzCarouselContentDirective=s,t.NZ_CAROUSEL_CUSTOM_STRATEGIES=g,t.NzCarouselBaseStrategy=y,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng-zorro-antd-carousel.umd.min.js.map