!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs"),require("@angular/cdk/overlay"),require("@angular/common"),require("ng-zorro-antd/icon"),require("@angular/core"),require("ng-zorro-antd/core")):"function"==typeof define&&define.amd?define("ng-zorro-antd/message",["exports","rxjs","@angular/cdk/overlay","@angular/common","ng-zorro-antd/icon","@angular/core","ng-zorro-antd/core"],t):t((e["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].message={}),e.rxjs,e.ng.cdk.overlay,e.ng.common,e["ng-zorro-antd"].icon,e.ng.core,e["ng-zorro-antd"].core)}(this,function(e,t,n,o,s,r,i){"use strict";var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var c=function(){return(c=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},p=new r.InjectionToken("NZ_MESSAGE_DEFAULT_CONFIG"),g=new r.InjectionToken("NZ_MESSAGE_CONFIG"),u={provide:p,useValue:{nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24}},h=(l.prototype.setConfig=function(e){this.config=c({},this.config,e),this.top=i.toCssPixel(this.config.nzTop),this.cdr.markForCheck()},l.prototype.createMessage=function(e){this.messages.length>=this.config.nzMaxStack&&this.messages.splice(0,1),e.options=this._mergeMessageOptions(e.options),e.onClose=new t.Subject,this.messages.push(e),this.cdr.detectChanges()},l.prototype.removeMessage=function(n,o){var s=this;void 0===o&&(o=!1),this.messages.some(function(e,t){return e.messageId===n&&(s.messages.splice(t,1),s.cdr.detectChanges(),e.onClose.next(o),e.onClose.complete(),!0)})},l.prototype.removeMessageAll=function(){this.messages=[],this.cdr.detectChanges()},l.prototype._mergeMessageOptions=function(e){var t={nzDuration:this.config.nzDuration,nzAnimate:this.config.nzAnimate,nzPauseOnHover:this.config.nzPauseOnHover};return c({},t,e)},l.decorators=[{type:r.Component,args:[{changeDetection:r.ChangeDetectionStrategy.OnPush,encapsulation:r.ViewEncapsulation.None,selector:"nz-message-container",exportAs:"nzMessageContainer",preserveWhitespaces:!1,template:'<div class="ant-message" [style.top]="top">\n  <nz-message *ngFor="let message of messages; let i = index" [nzMessage]="message" [nzIndex]="i"></nz-message>\n</div>'}]}],l.ctorParameters=function(){return[{type:r.ChangeDetectorRef},{type:undefined,decorators:[{type:r.Optional},{type:r.Inject,args:[p]}]},{type:undefined,decorators:[{type:r.Optional},{type:r.Inject,args:[g]}]}]},l);function l(e,t,n){this.cdr=e,this.messages=[],this.setConfig(c({},t,n))}var m=0,d=(f.prototype.remove=function(e){e?this._container.removeMessage(e):this._container.removeMessageAll()},f.prototype.createMessage=function(e,t){var n=c({},e,{createdAt:new Date,messageId:this._generateMessageId(),options:t});return this._container.createMessage(n),n},f.prototype.config=function(e){this._container.setConfig(e)},f.prototype._generateMessageId=function(){return this._idPrefix+m++},f.prototype.createContainer=function(){var e=this.cfr.resolveComponentFactory(this.containerClass).create(this.injector);e.changeDetectorRef.detectChanges(),this.appRef.attachView(e.hostView);var t=this.overlay.create().overlayElement;return t.style.zIndex="1010",t.appendChild(e.hostView.rootNodes[0]),e.instance},f);function f(e,t,n,o,s,r){void 0===r&&(r=""),this.overlay=e,this.containerClass=t,this.injector=n,this.cfr=o,this.appRef=s,this._idPrefix=r,this._container=this.createContainer()}var y,_=(function E(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(v,y=d),v.prototype.success=function(e,t){return this.createMessage({type:"success",content:e},t)},v.prototype.error=function(e,t){return this.createMessage({type:"error",content:e},t)},v.prototype.info=function(e,t){return this.createMessage({type:"info",content:e},t)},v.prototype.warning=function(e,t){return this.createMessage({type:"warning",content:e},t)},v.prototype.loading=function(e,t){return this.createMessage({type:"loading",content:e},t)},v.prototype.create=function(e,t,n){return this.createMessage({type:e,content:t},n)},v.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],v.ctorParameters=function(){return[{type:n.Overlay},{type:r.Injector},{type:r.ComponentFactoryResolver},{type:r.ApplicationRef}]},v.ngInjectableDef=r.defineInjectable({factory:function(){return new v(r.inject(n.Overlay),r.inject(r.INJECTOR),r.inject(r.ComponentFactoryResolver),r.inject(r.ApplicationRef))},token:v,providedIn:"root"}),v);function v(e,t,n,o){return y.call(this,e,h,t,n,o,"message-")||this}var z=(M.prototype.ngOnInit=function(){this._options=this.nzMessage.options,this._options.nzAnimate&&(this.nzMessage.state="enter"),this._autoErase=0<this._options.nzDuration,this._autoErase&&(this._initErase(),this._startEraseTimeout())},M.prototype.ngOnDestroy=function(){this._autoErase&&this._clearEraseTimeout()},M.prototype.onEnter=function(){this._autoErase&&this._options.nzPauseOnHover&&(this._clearEraseTimeout(),this._updateTTL())},M.prototype.onLeave=function(){this._autoErase&&this._options.nzPauseOnHover&&this._startEraseTimeout()},M.prototype._destroy=function(e){var t=this;void 0===e&&(e=!1),this._options.nzAnimate?(this.nzMessage.state="leave",this.cdr.detectChanges(),setTimeout(function(){return t._messageContainer.removeMessage(t.nzMessage.messageId,e)},200)):this._messageContainer.removeMessage(this.nzMessage.messageId,e)},M.prototype._initErase=function(){this._eraseTTL=this._options.nzDuration,this._eraseTimingStart=Date.now()},M.prototype._updateTTL=function(){this._autoErase&&(this._eraseTTL-=Date.now()-this._eraseTimingStart)},M.prototype._startEraseTimeout=function(){var e=this;0<this._eraseTTL?(this._clearEraseTimeout(),this._eraseTimer=setTimeout(function(){return e._destroy()},this._eraseTTL),this._eraseTimingStart=Date.now()):this._destroy()},M.prototype._clearEraseTimeout=function(){null!==this._eraseTimer&&(clearTimeout(this._eraseTimer),this._eraseTimer=null)},M.decorators=[{type:r.Component,args:[{changeDetection:r.ChangeDetectionStrategy.OnPush,encapsulation:r.ViewEncapsulation.None,selector:"nz-message",exportAs:"nzMessage",preserveWhitespaces:!1,animations:[i.moveUpMotion],template:'<div class="ant-message-notice"\n  [@moveUpMotion]="nzMessage.state"\n  (mouseenter)="onEnter()"\n  (mouseleave)="onLeave()">\n  <div class="ant-message-notice-content">\n    <div class="ant-message-custom-content" [ngClass]="\'ant-message-\' + nzMessage.type">\n      <ng-container [ngSwitch]="nzMessage.type">\n        <i *ngSwitchCase="\'success\'" nz-icon type="check-circle"></i>\n        <i *ngSwitchCase="\'info\'"  nz-icon type="info-circle"></i>\n        <i *ngSwitchCase="\'warning\'" nz-icon type="exclamation-circle"></i>\n        <i *ngSwitchCase="\'error\'" nz-icon type="close-circle"></i>\n        <i *ngSwitchCase="\'loading\'" nz-icon type="loading"></i>\n      </ng-container>\n      <ng-container *nzStringTemplateOutlet="nzMessage.content">\n        <span [innerHTML]="nzMessage.content"></span>\n      </ng-container>\n    </div>\n  </div>\n</div>\n'}]}],M.ctorParameters=function(){return[{type:h},{type:r.ChangeDetectorRef}]},M.propDecorators={nzMessage:[{type:r.Input}],nzIndex:[{type:r.Input}]},M);function M(e,t){this._messageContainer=e,this.cdr=t,this._eraseTimer=null}var C=(T.decorators=[{type:r.NgModule,args:[{imports:[o.CommonModule,n.OverlayModule,s.NzIconModule,i.NzAddOnModule],declarations:[h,z],providers:[u,_],entryComponents:[h]}]}],T);function T(){}e.NzMessageBaseService=d,e.NzMessageService=_,e.NzMessageModule=C,e.NzMessageComponent=z,e.NzMessageContainerComponent=h,e.NZ_MESSAGE_DEFAULT_CONFIG=p,e.NZ_MESSAGE_CONFIG=g,e.NZ_MESSAGE_DEFAULT_CONFIG_PROVIDER=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-zorro-antd-message.umd.min.js.map