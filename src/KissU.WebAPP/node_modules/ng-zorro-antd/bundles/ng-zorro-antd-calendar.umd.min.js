!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("ng-zorro-antd/radio"),require("ng-zorro-antd/select"),require("@angular/cdk/coercion"),require("@angular/core"),require("@angular/forms"),require("date-fns/add_days"),require("date-fns/difference_in_calendar_days"),require("date-fns/difference_in_calendar_months"),require("date-fns/difference_in_calendar_weeks"),require("date-fns/end_of_month"),require("date-fns/is_same_day"),require("date-fns/is_same_month"),require("date-fns/is_same_year"),require("date-fns/is_this_month"),require("date-fns/is_this_year"),require("date-fns/set_month"),require("date-fns/set_year"),require("date-fns/start_of_month"),require("date-fns/start_of_week"),require("date-fns/start_of_year"),require("ng-zorro-antd/i18n")):"function"==typeof define&&define.amd?define("ng-zorro-antd/calendar",["exports","@angular/common","ng-zorro-antd/radio","ng-zorro-antd/select","@angular/cdk/coercion","@angular/core","@angular/forms","date-fns/add_days","date-fns/difference_in_calendar_days","date-fns/difference_in_calendar_months","date-fns/difference_in_calendar_weeks","date-fns/end_of_month","date-fns/is_same_day","date-fns/is_same_month","date-fns/is_same_year","date-fns/is_this_month","date-fns/is_this_year","date-fns/set_month","date-fns/set_year","date-fns/start_of_month","date-fns/start_of_week","date-fns/start_of_year","ng-zorro-antd/i18n"],t):t((e["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].calendar={}),e.ng.common,e["ng-zorro-antd"].radio,e["ng-zorro-antd"].select,e.ng.cdk.coercion,e.ng.core,e.ng.forms,e.addDays,e.differenceInCalendarDays,e.differenceInCalendarMonths,e.differenceInCalendarWeeks,e.endOfMonth,e.isSameDay,e.isSameMonth,e.isSameYear,e.isThisMonth,e.isThisYear,e.setMonth,e.setYear,e.startOfMonth,e.startOfWeek,e.startOfYear,e["ng-zorro-antd"].i18n)}(this,function(e,t,n,a,r,l,o,f,i,p,y,g,s,c,d,u,h,m,C,v,D,z,M){"use strict";f=f&&f.hasOwnProperty("default")?f["default"]:f,i=i&&i.hasOwnProperty("default")?i["default"]:i,p=p&&p.hasOwnProperty("default")?p["default"]:p,y=y&&y.hasOwnProperty("default")?y["default"]:y,g=g&&g.hasOwnProperty("default")?g["default"]:g,s=s&&s.hasOwnProperty("default")?s["default"]:s,c=c&&c.hasOwnProperty("default")?c["default"]:c,d=d&&d.hasOwnProperty("default")?d["default"]:d,u=u&&u.hasOwnProperty("default")?u["default"]:u,h=h&&h.hasOwnProperty("default")?h["default"]:h,m=m&&m.hasOwnProperty("default")?m["default"]:m,C=C&&C.hasOwnProperty("default")?C["default"]:C,v=v&&v.hasOwnProperty("default")?v["default"]:v,D=D&&D.hasOwnProperty("default")?D["default"]:D,z=z&&z.hasOwnProperty("default")?z["default"]:z;var b=(w.decorators=[{type:l.Directive,args:[{selector:"[nzDateCell]",exportAs:"nzDateCell"}]}],w);function w(){}var O=(_.decorators=[{type:l.Directive,args:[{selector:"[nzMonthCell]",exportAs:"nzMonthCell"}]}],_);function _(){}var F=(P.decorators=[{type:l.Directive,args:[{selector:"[nzDateFullCell]",exportAs:"nzDateFullCell"}]}],P);function P(){}var I=(S.decorators=[{type:l.Directive,args:[{selector:"[nzMonthFullCell]",exportAs:"nzMonthFullCell"}]}],S);function S(){}var k=(Object.defineProperty(x.prototype,"activeDate",{get:function(){return this._activeDate},set:function(e){this._activeDate=e,this.setUpYears()},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"activeYear",{get:function(){return this.activeDate.getFullYear()},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"activeMonth",{get:function(){return this.activeDate.getMonth()},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"size",{get:function(){return this.fullscreen?"default":"small"},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"yearTypeText",{get:function(){return this.i18n.getLocale().Calendar.year},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"monthTypeText",{get:function(){return this.i18n.getLocale().Calendar.month},enumerable:!0,configurable:!0}),x.prototype.ngOnInit=function(){this.setUpYears(),this.setUpMonths()},x.prototype.updateYear=function(e){this.yearChange.emit(e),this.setUpYears(e)},x.prototype.setUpYears=function(e){var t=(e||this.activeYear)-this.yearOffset,n=t+this.yearTotal;this.years=[];for(var a=t;a<n;a++)this.years.push({label:""+a,value:a})},x.prototype.setUpMonths=function(){this.months=[];for(var e=0;e<12;e++){var t=m(this.activeDate,e),n=this.dateHelper.format(t,"MMM");this.months.push({label:n,value:e})}},x.decorators=[{type:l.Component,args:[{encapsulation:l.ViewEncapsulation.None,changeDetection:l.ChangeDetectionStrategy.OnPush,selector:"nz-calendar-header",exportAs:"nzCalendarHeader",template:'<nz-select class="ant-fullcalendar-year-select" [nzSize]="size" [nzDropdownMatchSelectWidth]="false"\n           [ngModel]="activeYear" (ngModelChange)="updateYear($event)">\n  <nz-option *ngFor="let year of years" [nzLabel]="year.label" [nzValue]="year.value"></nz-option>\n</nz-select>\n\n<nz-select *ngIf="mode === \'month\'" class="ant-fullcalendar-month-select" [nzSize]="size" [nzDropdownMatchSelectWidth]="false"\n           [ngModel]="activeMonth" (ngModelChange)="monthChange.emit($event)">\n  <nz-option *ngFor="let month of months" [nzLabel]="month.label" [nzValue]="month.value"></nz-option>\n</nz-select>\n\n<nz-radio-group [(ngModel)]="mode" (ngModelChange)="modeChange.emit($event)" [nzSize]="size">\n  <label nz-radio-button nzValue="month">{{ monthTypeText }}</label>\n  <label nz-radio-button nzValue="year">{{ yearTypeText }}</label>\n</nz-radio-group>\n',host:{"[style.display]":"'block'","[class.ant-fullcalendar-header]":"true"}}]}],x.ctorParameters=function(){return[{type:M.NzI18nService},{type:M.DateHelperService}]},x.propDecorators={mode:[{type:l.Input}],modeChange:[{type:l.Output}],fullscreen:[{type:l.Input}],activeDate:[{type:l.Input}],yearChange:[{type:l.Output}],monthChange:[{type:l.Output}]},x);function x(e,t){this.i18n=e,this.dateHelper=t,this.mode="month",this.modeChange=new l.EventEmitter,this.fullscreen=!0,this.yearChange=new l.EventEmitter,this.monthChange=new l.EventEmitter,this._activeDate=new Date,this.yearOffset=10,this.yearTotal=20}var Y=(Object.defineProperty(T.prototype,"nzValue",{set:function(e){this.updateDate(e,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"nzDateCell",{set:function(e){this.dateCell=e},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"nzDateFullCell",{set:function(e){this.dateFullCell=e},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"nzMonthCell",{set:function(e){this.monthCell=e},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"nzMonthFullCell",{set:function(e){this.monthFullCell=e},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"nzFullscreen",{get:function(){return this.fullscreen},set:function(e){this.fullscreen=r.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"nzCard",{get:function(){return!this.fullscreen},set:function(e){this.fullscreen=!r.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"dateCellChild",{set:function(e){e&&(this.dateCell=e)},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"dateFullCellChild",{set:function(e){e&&(this.dateFullCell=e)},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"monthCellChild",{set:function(e){e&&(this.monthCell=e)},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"monthFullCellChild",{set:function(e){e&&(this.monthFullCell=e)},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"calendarStart",{get:function(){return D(v(this.activeDate),{weekStartsOn:this.dateHelper.getFirstDayOfWeek()})},enumerable:!0,configurable:!0}),T.prototype.ngOnInit=function(){this.setUpDaysInWeek(),this.setUpMonthsInYear(),this.setUpDateMatrix(),this.calculateCurrentDate(),this.calculateActiveDate(),this.calculateCurrentMonth(),this.calculateActiveMonth()},T.prototype.onModeChange=function(e){this.nzModeChange.emit(e),this.nzPanelChange.emit({date:this.activeDate,mode:e})},T.prototype.onDateSelect=function(e){this.updateDate(e),this.nzSelectChange.emit(e)},T.prototype.onYearSelect=function(e){var t=C(this.activeDate,e);this.updateDate(t),this.nzSelectChange.emit(t)},T.prototype.onMonthSelect=function(e){var t=m(this.activeDate,e);this.updateDate(t),this.nzSelectChange.emit(t)},T.prototype.writeValue=function(e){this.updateDate(e||new Date,!1),this.cdr.markForCheck()},T.prototype.registerOnChange=function(e){this.onChangeFn=e},T.prototype.registerOnTouched=function(e){this.onTouchFn=e},T.prototype.updateDate=function(e,t){void 0===t&&(t=!0);var n=!s(e,this.activeDate),a=!c(e,this.activeDate),r=!d(e,this.activeDate);this.activeDate=e,n&&this.calculateActiveDate(),a&&(this.setUpDateMatrix(),this.calculateCurrentDate(),this.calculateActiveMonth()),r&&this.calculateCurrentMonth(),t&&(this.onChangeFn(e),this.onTouchFn(),this.nzValueChange.emit(e))},T.prototype.setUpDaysInWeek=function(){this.daysInWeek=[];for(var e=D(this.activeDate,{weekStartsOn:this.dateHelper.getFirstDayOfWeek()}),t=0;t<7;t++){var n=f(e,t),a=this.dateHelper.format(n,this.dateHelper.relyOnDatePipe?"E":"ddd"),r=this.dateHelper.format(n,this.dateHelper.relyOnDatePipe?"EEEEEE":"dd");this.daysInWeek.push({title:a,label:r})}},T.prototype.setUpMonthsInYear=function(){this.monthsInYear=[];for(var e=0;e<12;e++){var t=m(this.activeDate,e),n=this.dateHelper.format(t,"MMM"),a=this.dateHelper.format(t,"MMM"),r=v(t);this.monthsInYear.push({title:n,label:a,start:r})}},T.prototype.setUpDateMatrix=function(){this.dateMatrix=[];for(var e=v(this.activeDate),t=g(this.activeDate),n=y(t,e,{weekStartsOn:this.dateHelper.getFirstDayOfWeek()})+2,a=0;a<n;a++){for(var r=[],l=f(this.calendarStart,7*a),o=0;o<7;o++){var i=f(l,o),s=p(i,this.activeDate),c=this.dateHelper.relyOnDatePipe?"longDate":this.i18n.getLocaleData("DatePicker.lang.dateFormat","YYYY-MM-DD"),d=this.dateHelper.format(i,c),u=this.dateHelper.format(i,this.dateHelper.relyOnDatePipe?"dd":"DD"),h=0===s?"current":s<0?"last":"next";r.push({title:d,label:u,rel:h,value:i})}this.dateMatrix.push(r)}},T.prototype.calculateCurrentDate=function(){u(this.activeDate)?(this.currentDateRow=y(this.currentDate,this.calendarStart,{weekStartsOn:this.dateHelper.getFirstDayOfWeek()}),this.currentDateCol=i(this.currentDate,f(this.calendarStart,7*this.currentDateRow))):(this.currentDateRow=-1,this.currentDateCol=-1)},T.prototype.calculateActiveDate=function(){this.activeDateRow=y(this.activeDate,this.calendarStart,{weekStartsOn:this.dateHelper.getFirstDayOfWeek()}),this.activeDateCol=i(this.activeDate,f(this.calendarStart,7*this.activeDateRow))},T.prototype.calculateCurrentMonth=function(){if(h(this.activeDate)){var e=z(this.currentDate),t=p(this.currentDate,e);this.currentMonthRow=Math.floor(t/3),this.currentMonthCol=t%3}else this.currentMonthRow=-1,this.currentMonthCol=-1},T.prototype.calculateActiveMonth=function(){this.activeMonthRow=Math.floor(this.activeDate.getMonth()/3),this.activeMonthCol=this.activeDate.getMonth()%3},T.decorators=[{type:l.Component,args:[{encapsulation:l.ViewEncapsulation.None,changeDetection:l.ChangeDetectionStrategy.OnPush,selector:"nz-calendar",exportAs:"nzCalendar",template:'<nz-calendar-header [fullscreen]="fullscreen" [activeDate]="activeDate"\n                    [(mode)]="nzMode" (modeChange)="onModeChange($event)"\n                    (yearChange)="onYearSelect($event)" (monthChange)="onMonthSelect($event)">\n</nz-calendar-header>\n\n<div class="ant-fullcalendar ant-fullcalendar-full" [ngClass]="fullscreen ? \'ant-fullcalendar-fullscreen\' : \'\'">\n  <div class="ant-fullcalendar-calendar-body">\n    <ng-container *ngIf="nzMode === \'month\' then monthModeTable else yearModeTable"></ng-container>\n  </div>\n</div>\n\n<ng-template #monthModeTable>\n  <table class="ant-fullcalendar-table" cellspacing="0" role="grid">\n    <thead>\n      <tr role="row">\n        <th *ngFor="let day of daysInWeek" class="ant-fullcalendar-column-header" role="columnheader" [title]="day.title">\n          <span class="ant-fullcalendar-column-header-inner">{{ day.label }}</span>\n        </th>\n      </tr>\n    </thead>\n    <tbody class="ant-fullcalendar-tbody">\n      <tr *ngFor="let week of dateMatrix; index as row"\n          [class.ant-fullcalendar-current-week]="row === currentDateRow"\n          [class.ant-fullcalendar-active-week]="row === activeDateRow">\n        <td *ngFor="let day of week; index as col" role="gridcell" class="ant-fullcalendar-cell" [title]="day.title"\n            [class.ant-fullcalendar-today]="row === currentDateRow && col === currentDateCol"\n            [class.ant-fullcalendar-selected-day]="row === activeDateRow && col === activeDateCol"\n            [class.ant-fullcalendar-last-month-cell]="day.rel === \'last\'"\n            [class.ant-fullcalendar-next-month-btn-day]="day.rel === \'next\'"\n            (click)="onDateSelect(day.value)">\n            <div class="ant-fullcalendar-date">\n              <ng-container *ngIf="dateFullCell else defaultCell">\n                <ng-container *ngTemplateOutlet="dateFullCell; context: {$implicit: day.value}"></ng-container>\n              </ng-container>\n              <ng-template #defaultCell>\n                <div class="ant-fullcalendar-value">{{ day.label }}</div>\n                <div *ngIf="dateCell" class="ant-fullcalendar-content">\n                  <ng-container *ngTemplateOutlet="dateCell; context: {$implicit: day.value}"></ng-container>\n                </div>\n              </ng-template>\n            </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</ng-template>\n\n<ng-template #yearModeTable>\n  <table class="ant-fullcalendar-month-panel-table" cellspacing="0" role="grid">\n    <tbody class="ant-fullcalendar-month-panel-tbody">\n      <tr *ngFor="let row of [0, 1, 2, 3]" role="row">\n        <td *ngFor="let col of [0, 1, 2]" role="gridcell" [title]="monthsInYear[row * 3 + col].title"\n            class="ant-fullcalendar-month-panel-cell"\n            [class.ant-fullcalendar-month-panel-current-cell]="row === currentMonthRow && col === currentMonthCol"\n            [class.ant-fullcalendar-month-panel-selected-cell]="row === activeMonthRow && col === activeMonthCol"\n            (click)="onMonthSelect(row * 3 + col)">\n          <div class="ant-fullcalendar-month">\n            <ng-container *ngIf="monthFullCell else defaultCell">\n              <ng-container *ngTemplateOutlet="monthFullCell; context: {$implicit: monthsInYear[row * 3 + col].start}"></ng-container>\n            </ng-container>\n            <ng-template #defaultCell>\n              <div class="ant-fullcalendar-value">{{ monthsInYear[row * 3 + col].label }}</div>\n              <div *ngIf="monthCell" class="ant-fullcalendar-content">\n                <ng-container *ngTemplateOutlet="monthCell; context: {$implicit: monthsInYear[row * 3 + col].start}"></ng-container>\n              </div>\n            </ng-template>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</ng-template>\n',providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:l.forwardRef(function(){return T}),multi:!0}]}]}],T.ctorParameters=function(){return[{type:M.NzI18nService},{type:l.ChangeDetectorRef},{type:M.DateHelperService}]},T.propDecorators={nzMode:[{type:l.Input}],nzModeChange:[{type:l.Output}],nzPanelChange:[{type:l.Output}],nzSelectChange:[{type:l.Output}],nzValue:[{type:l.Input}],nzValueChange:[{type:l.Output}],nzDateCell:[{type:l.Input}],nzDateFullCell:[{type:l.Input}],nzMonthCell:[{type:l.Input}],nzMonthFullCell:[{type:l.Input}],nzFullscreen:[{type:l.Input}],nzCard:[{type:l.Input}],dateCellChild:[{type:l.ContentChild,args:[b,{read:l.TemplateRef}]}],dateFullCellChild:[{type:l.ContentChild,args:[F,{read:l.TemplateRef}]}],monthCellChild:[{type:l.ContentChild,args:[O,{read:l.TemplateRef}]}],monthFullCellChild:[{type:l.ContentChild,args:[I,{read:l.TemplateRef}]}],fullscreen:[{type:l.HostBinding,args:["class.ant-fullcalendar--fullscreen"]}]},T);function T(e,t,n){this.i18n=e,this.cdr=t,this.dateHelper=n,this.nzMode="month",this.nzModeChange=new l.EventEmitter,this.nzPanelChange=new l.EventEmitter,this.nzSelectChange=new l.EventEmitter,this.nzValueChange=new l.EventEmitter,this.fullscreen=!0,this.daysInWeek=[],this.monthsInYear=[],this.dateMatrix=[],this.activeDate=new Date,this.currentDateRow=-1,this.currentDateCol=-1,this.activeDateRow=-1,this.activeDateCol=-1,this.currentMonthRow=-1,this.currentMonthCol=-1,this.activeMonthRow=-1,this.activeMonthCol=-1,this.dateCell=null,this.dateFullCell=null,this.monthCell=null,this.monthFullCell=null,this.currentDate=new Date,this.onChangeFn=function(){},this.onTouchFn=function(){}}var E=(R.decorators=[{type:l.NgModule,args:[{declarations:[k,Y,b,F,O,I],exports:[Y,b,F,O,I],imports:[t.CommonModule,o.FormsModule,M.NzI18nModule,n.NzRadioModule,a.NzSelectModule]}]}],R);function R(){}e.NzCalendarModule=E,e.NzCalendarComponent=Y,e.NzDateCellDirective=b,e.NzMonthCellDirective=O,e.NzDateFullCellDirective=F,e.NzMonthFullCellDirective=I,e.NzCalendarHeaderComponent=k,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-zorro-antd-calendar.umd.min.js.map